/*!
 * Snowplow - The world's most powerful web analytics platform
 *
 * @description JavaScript tracker for Snowplow
 * @version     0.14.0
 * @author      Alex Dean, Simon Andersson, Anthon Pang, Fred Blundun
 * @copyright   Anthon Pang, Snowplow Analytics Ltd
 * @license     Simplified BSD
 */
;if(!this.JSON2){this.JSON2={}}(function(){function f(n){return n<10?"0"+n:n}function objectToJSON(value,key){var objectType=Object.prototype.toString.apply(value);if(objectType==="[object Date]"){return isFinite(value.valueOf())?value.getUTCFullYear()+"-"+f(value.getUTCMonth()+1)+"-"+f(value.getUTCDate())+"T"+f(value.getUTCHours())+":"+f(value.getUTCMinutes())+":"+f(value.getUTCSeconds())+"Z":null}if(objectType==="[object String]"||objectType==="[object Number]"||objectType==="[object Boolean]"){return value.valueOf()}if(objectType!=="[object Array]"&&typeof value.toJSON==="function"){return value.toJSON(key)}return value}var cx=new RegExp("[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]","g"),pattern='\\\\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]',escapable=new RegExp("["+pattern,"g"),gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;
function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"){value=objectToJSON(value,key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];
v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON2.stringify!=="function"){JSON2.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON2.parse!=="function"){JSON2.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]
}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if((new RegExp("^[\\],:{}\\s]*$")).test(text.replace(new RegExp('\\\\(?:["\\\\/bfnrt]|u[0-9a-fA-F]{4})',"g"),"@").replace(new RegExp('"[^"\\\\\n\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?',"g"),"]").replace(new RegExp("(?:^|:|,)(?:\\s*\\[)+","g"),""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(a){var b=(function(){var f="s",g=function(j){var k=-j.getTimezoneOffset();return(k!==null?k:0)},c=function(){return g(new Date(2010,0,1,0,0,0,0))},e=function(){return g(new Date(2010,5,1,0,0,0,0))},h=function(k){var l=((k.getMonth()>5?e():c())),j=g(k);return(l-j)!==0},i=function(){var j=c(),k=e(),l=c()-e();if(l<0){return j+",1"}else{if(l>0){return k+",1,"+f}}return j+",0"},d=function(){var j=i();return new b.TimeZone(b.olson.timezones[j])
};return{determine_timezone:function(){if(typeof console!=="undefined"){console.log("jstz.determine_timezone() is deprecated and will be removed in an upcoming version. Please use jstz.determine() instead.")}return d()},determine:d,date_is_dst:h}}());b.TimeZone=function(c){var e=null,d=function(){return e},g=function(){var h=b.olson.ambiguity_list[e],k=h.length,j=0,l=h[0];for(;j<k;j+=1){l=h[j];if(b.date_is_dst(b.olson.dst_start_dates[l])){e=l;return}}},f=function(){return typeof(b.olson.ambiguity_list[e])!=="undefined"};e=c;if(f()){g()}return{name:d}};b.olson={};b.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"Etc/GMT+2","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"Etc/UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,1":"Europe/Moscow","180,0":"Asia/Baghdad","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Yerevan","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"};
b.olson.dst_start_dates={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"Atlantic/Stanley":new Date(2011,8,4,7,0,0,0),"America/Asuncion":new Date(2011,9,2,3,0,0,0),"America/Santiago":new Date(2011,9,9,3,0,0,0),"America/Campo_Grande":new Date(2011,9,16,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2011,2,13,2,0,0,0),"America/New_York":new Date(2011,2,13,7,0,0,0),"Asia/Gaza":new Date(2011,2,26,23,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Minsk":new Date(2011,2,27,2,0,0,0),"Europe/Helsinki":new Date(2011,2,27,4,0,0,0),"Europe/Istanbul":new Date(2011,2,28,5,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Africa/Cairo":new Date(2010,3,30,4,0,0,0),"Asia/Yerevan":new Date(2011,2,27,4,0,0,0),"Asia/Baku":new Date(2011,2,27,8,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0)};
b.olson.ambiguity_list={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Asuncion":["Atlantic/Stanley","America/Asuncion","America/Santiago","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Gaza","Asia/Beirut","Europe/Minsk","Europe/Helsinki","Europe/Istanbul","Asia/Damascus","Asia/Jerusalem","Africa/Cairo"],"Asia/Yerevan":["Asia/Yerevan","Asia/Baku"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"]};if(typeof exports!=="undefined"){exports.jstz=b}else{a.jstz=b}})(this);var _snaq=_snaq||[];var SnowPlow=SnowPlow||function(){var a=window;return{version:"js-0.14.0",expireDateTime:null,plugins:{},hasLoaded:false,registeredOnLoadHandlers:[],documentAlias:document,windowAlias:a,navigatorAlias:navigator,screenAlias:screen,encodeWrapper:a.encodeURIComponent,decodeWrapper:a.decodeURIComponent,decodeUrl:unescape,asyncTracker:null}
}();SnowPlow.isDefined=function(a){return typeof a!=="undefined"};SnowPlow.isNotNull=function(a){return a!==null};SnowPlow.isFunction=function(a){return typeof a==="function"};SnowPlow.isArray=("isArray" in Array)?Array.isArray:function(a){return Object.prototype.toString.call(a)==="[object Array]"};SnowPlow.isEmptyArray=function(a){return SnowPlow.isArray(a)&&a.length<1};SnowPlow.isObject=function(a){return typeof a==="object"};SnowPlow.isJson=function(a){return(SnowPlow.isDefined(a)&&SnowPlow.isNotNull(a)&&a.constructor==={}.constructor)};SnowPlow.isNonEmptyJson=function(a){return SnowPlow.isJson(a)&&a!=={}};SnowPlow.isString=function(a){return typeof a==="string"||a instanceof String};SnowPlow.isNonEmptyString=function(a){return SnowPlow.isString(a)&&a!==""};SnowPlow.isDate=function(a){return Object.prototype.toString.call(a)==="[object Date]"};SnowPlow.encodeUtf8=function(a){return SnowPlow.decodeUrl(SnowPlow.encodeWrapper(a))};SnowPlow.fixupTitle=function(b){if(!SnowPlow.isString(b)){b=b.text||"";
var a=SnowPlow.documentAlias.getElementsByTagName("title");if(a&&SnowPlow.isDefined(a[0])){b=a[0].text}}return b};SnowPlow.getHostName=function(a){var c=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)"),b=c.exec(a);return b?b[1]:a};SnowPlow.hasSessionStorage=function(){try{return !!SnowPlow.windowAlias.sessionStorage}catch(a){return true}};SnowPlow.hasLocalStorage=function(){try{return !!SnowPlow.windowAlias.localStorage}catch(a){return true}};SnowPlow.toTimestamp=function(b,a){return a?b/1:Math.floor(b/1000)};SnowPlow.toDatestamp=function(a){return Math.floor(a/86400000)};SnowPlow.fixupUrl=function(d,a,b){function c(i,h){var l=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+)[?])([^#]+)"),k=l.exec(i),j=new RegExp("(?:^|&)"+h+"=([^&]*)"),g=k?j.exec(k[1]):0;return g?SnowPlow.decodeWrapper(g[1]):""}if(d==="translate.googleusercontent.com"){if(b===""){b=a}a=c(a,"u");d=SnowPlow.getHostName(a)}else{if(d==="cc.bingj.com"||d==="webcache.googleusercontent.com"||d.slice(0,5)==="74.6."){a=SnowPlow.documentAlias.links[0].href;
d=SnowPlow.getHostName(a)}}return[d,a,b]};SnowPlow.fixupDomain=function(b){var a=b.length;if(b.charAt(--a)==="."){b=b.slice(0,a)}if(b.slice(0,2)==="*."){b=b.slice(1)}return b};SnowPlow.getReferrer=function(){var b="";var a=SnowPlow.fromQuerystring("referrer",SnowPlow.windowAlias.location.href)||SnowPlow.fromQuerystring("referer",SnowPlow.windowAlias.location.href);if(a){return a}try{b=SnowPlow.windowAlias.top.document.referrer}catch(d){if(SnowPlow.windowAlias.parent){try{b=SnowPlow.windowAlias.parent.document.referrer}catch(c){b=""}}}if(b===""){b=SnowPlow.documentAlias.referrer}return b};SnowPlow.addEventListener=function(d,c,b,a){if(d.addEventListener){d.addEventListener(c,b,a);return true}if(d.attachEvent){return d.attachEvent("on"+c,b)}d["on"+c]=b};SnowPlow.executePluginMethod=function(b,e){var a="",d,c;for(d in SnowPlow.plugins){if(Object.prototype.hasOwnProperty.call(SnowPlow.plugins,d)){c=SnowPlow.plugins[d][b];if(SnowPlow.isFunction(c)){a+=c(e)}}}return a};SnowPlow.fromQuerystring=function(c,b){var a=RegExp("[?&]"+c+"=([^&]*)").exec(b);
if(!a){return null}return SnowPlow.decodeWrapper(a[1].replace(/\+/g," "))};SnowPlow.getCookie=function(c){var a=new RegExp("(^|;)[ ]*"+c+"=([^;]*)"),b=a.exec(SnowPlow.documentAlias.cookie);return b?SnowPlow.decodeWrapper(b[2]):0};SnowPlow.setCookie=function(g,d,c,f,b,e){var a;if(c){a=new Date();a.setTime(a.getTime()+c)}SnowPlow.documentAlias.cookie=g+"="+SnowPlow.encodeWrapper(d)+(c?";expires="+a.toGMTString():"")+";path="+(f||"/")+(b?";domain="+b:"")+(e?";secure":"")};SnowPlow.hasCookies=function(a){var b=a||"testcookie";if(!SnowPlow.isDefined(SnowPlow.navigatorAlias.cookieEnabled)){SnowPlow.setCookie(b,"1");return SnowPlow.getCookie(b)==="1"?"1":"0"}return SnowPlow.navigatorAlias.cookieEnabled?"1":"0"};SnowPlow.detectSignature=function(){var d=[navigator.userAgent,[screen.height,screen.width,screen.colorDepth].join("x"),(new Date()).getTimezoneOffset(),SnowPlow.hasSessionStorage(),SnowPlow.hasLocalStorage()];var a=[];if(navigator.plugins){for(var e=0;e<navigator.plugins.length;e++){var b=[];
for(var c=0;c<navigator.plugins[e].length;c++){b.push([navigator.plugins[e][c].type,navigator.plugins[e][c].suffixes])}a.push([navigator.plugins[e].name+"::"+navigator.plugins[e].description,b.join("~")])}}return SnowPlow.murmurhash3_32_gc(d.join("###")+"###"+a.sort().join(";"),123412414)};SnowPlow.detectTimezone=function(){var a=jstz.determine();return(typeof(a)==="undefined")?"":a.name()};SnowPlow.detectViewport=function(){var c=SnowPlow.windowAlias,b="inner";if(!("innerWidth" in SnowPlow.windowAlias)){b="client";c=SnowPlow.documentAlias.documentElement||SnowPlow.documentAlias.body}return c[b+"Width"]+"x"+c[b+"Height"]};SnowPlow.detectDocumentSize=function(){var c=SnowPlow.documentAlias.documentElement;var a=Math.max(c.clientWidth,c.offsetWidth,c.scrollWidth);var b=Math.max(c.clientHeight,c.offsetHeight,c.scrollHeight);return a+"x"+b};SnowPlow.detectBrowserFeatures=function(b){var a,d,e={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"},c={};
if(SnowPlow.navigatorAlias.mimeTypes&&SnowPlow.navigatorAlias.mimeTypes.length){for(a in e){if(Object.prototype.hasOwnProperty.call(e,a)){d=SnowPlow.navigatorAlias.mimeTypes[e[a]];c[a]=(d&&d.enabledPlugin)?"1":"0"}}}if(typeof navigator.javaEnabled!=="unknown"&&SnowPlow.isDefined(SnowPlow.navigatorAlias.javaEnabled)&&SnowPlow.navigatorAlias.javaEnabled()){c.java="1"}if(SnowPlow.isFunction(SnowPlow.windowAlias.GearsFactory)){c.gears="1"}c.res=SnowPlow.screenAlias.width+"x"+SnowPlow.screenAlias.height;c.cd=screen.colorDepth;c.cookie=SnowPlow.hasCookies(b);return c};SnowPlow.sha1=function sha1(r){var c=function(j,i){return(j<<i)|(j>>>(32-i))},s=function(y){var x="",w,j;for(w=7;w>=0;w--){j=(y>>>(w*4))&15;x+=j.toString(16)}return x},f,u,t,b=[],l=1732584193,h=4023233417,g=2562383102,e=271733878,d=3285377520,q,p,o,n,m,v,a,k=[];r=SnowPlow.encodeUtf8(r);a=r.length;for(u=0;u<a-3;u+=4){t=r.charCodeAt(u)<<24|r.charCodeAt(u+1)<<16|r.charCodeAt(u+2)<<8|r.charCodeAt(u+3);k.push(t)}switch(a&3){case 0:u=2147483648;
break;case 1:u=r.charCodeAt(a-1)<<24|8388608;break;case 2:u=r.charCodeAt(a-2)<<24|r.charCodeAt(a-1)<<16|32768;break;case 3:u=r.charCodeAt(a-3)<<24|r.charCodeAt(a-2)<<16|r.charCodeAt(a-1)<<8|128;break}k.push(u);while((k.length&15)!==14){k.push(0)}k.push(a>>>29);k.push((a<<3)&4294967295);for(f=0;f<k.length;f+=16){for(u=0;u<16;u++){b[u]=k[f+u]}for(u=16;u<=79;u++){b[u]=c(b[u-3]^b[u-8]^b[u-14]^b[u-16],1)}q=l;p=h;o=g;n=e;m=d;for(u=0;u<=19;u++){v=(c(q,5)+((p&o)|(~p&n))+m+b[u]+1518500249)&4294967295;m=n;n=o;o=c(p,30);p=q;q=v}for(u=20;u<=39;u++){v=(c(q,5)+(p^o^n)+m+b[u]+1859775393)&4294967295;m=n;n=o;o=c(p,30);p=q;q=v}for(u=40;u<=59;u++){v=(c(q,5)+((p&o)|(p&n)|(o&n))+m+b[u]+2400959708)&4294967295;m=n;n=o;o=c(p,30);p=q;q=v}for(u=60;u<=79;u++){v=(c(q,5)+(p^o^n)+m+b[u]+3395469782)&4294967295;m=n;n=o;o=c(p,30);p=q;q=v}l=(l+q)&4294967295;h=(h+p)&4294967295;g=(g+o)&4294967295;e=(e+n)&4294967295;d=(d+m)&4294967295}v=s(l)+s(h)+s(g)+s(e)+s(d);return v.toLowerCase()};SnowPlow.murmurhash3_32_gc=function murmurhash3_32_gc(k,f){var l,m,h,b,e,a,c,j,g,d;
l=k.length&3;m=k.length-l;h=f;e=3432918353;c=461845907;d=0;while(d<m){g=((k.charCodeAt(d)&255))|((k.charCodeAt(++d)&255)<<8)|((k.charCodeAt(++d)&255)<<16)|((k.charCodeAt(++d)&255)<<24);++d;g=((((g&65535)*e)+((((g>>>16)*e)&65535)<<16)))&4294967295;g=(g<<15)|(g>>>17);g=((((g&65535)*c)+((((g>>>16)*c)&65535)<<16)))&4294967295;h^=g;h=(h<<13)|(h>>>19);b=((((h&65535)*5)+((((h>>>16)*5)&65535)<<16)))&4294967295;h=(((b&65535)+27492)+((((b>>>16)+58964)&65535)<<16))}g=0;switch(l){case 3:g^=(k.charCodeAt(d+2)&255)<<16;case 2:g^=(k.charCodeAt(d+1)&255)<<8;case 1:g^=(k.charCodeAt(d)&255);g=(((g&65535)*e)+((((g>>>16)*e)&65535)<<16))&4294967295;g=(g<<15)|(g>>>17);g=(((g&65535)*c)+((((g>>>16)*c)&65535)<<16))&4294967295;h^=g}h^=k.length;h^=h>>>16;h=(((h&65535)*2246822507)+((((h>>>16)*2246822507)&65535)<<16))&4294967295;h^=h>>>13;h=((((h&65535)*3266489909)+((((h>>>16)*3266489909)&65535)<<16)))&4294967295;h^=h>>>16;return h>>>0};SnowPlow.base64encode=function(j){if(!j){return j}if(typeof window.btoa=="function"){return btoa(j)
}var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var d,c,b,n,m,l,k,o,h=0,p=0,g="",f=[];do{d=j.charCodeAt(h++);c=j.charCodeAt(h++);b=j.charCodeAt(h++);o=d<<16|c<<8|b;n=o>>18&63;m=o>>12&63;l=o>>6&63;k=o&63;f[p++]=e.charAt(n)+e.charAt(m)+e.charAt(l)+e.charAt(k)}while(h<j.length);g=f.join("");var a=j.length%3;return(a?g.slice(0,a-3):g)+"===".slice(a||3)};SnowPlow.base64urlencode=function(b){if(!b){return b}var a=SnowPlow.base64encode(b);return a.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")};SnowPlow.base64decode=function(e){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var b="";var m,k,h="";var l,j,g,f="";var d=0;var a=/[^A-Za-z0-9\+\/\=]/g;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{l=c.indexOf(e.charAt(d++));j=c.indexOf(e.charAt(d++));g=c.indexOf(e.charAt(d++));f=c.indexOf(e.charAt(d++));m=(l<<2)|(j>>4);k=((j&15)<<4)|(g>>2);h=((g&3)<<6)|f;b=b+String.fromCharCode(m);if(g!=64){b=b+String.fromCharCode(k)}if(f!=64){b=b+String.fromCharCode(h)
}m=k=h="";l=j=g=f=""}while(d<e.length);return unescape(b)};SnowPlow.payloadBuilder=function(b){var d="";var c=function(k,m,l){if(m!==undefined&&m!==null&&m!==""){var j=(d.length>0)?"&":"?";d+=j+k+"="+(l?SnowPlow.encodeWrapper(m):m)}};var a=function(k){var l=new RegExp("\\$(.[^\\$]+)$"),j=l.exec(k);if(j){return j[1]}};var e=function(j,k){switch(k){case"tms":return SnowPlow.toTimestamp(j,true);case"ts":return SnowPlow.toTimestamp(j,false);case"dt":return SnowPlow.toDatestamp(j);default:return j}};var f=(function(){function j(l){var n={};for(var o in l){var k=o,m=l[o];if(l.hasOwnProperty(k)){if(SnowPlow.isDate(m)){type=a(k);if(!type){type="tms";k+="$"+type}m=e(m,type)}if(SnowPlow.isJson(m)){m=j(m)}}n[k]=m}return n}return j})();var i=function(j,k){c(j,k,true)};var h=function(j,k){c(j,k,false)};var g=function(j,k,l){if(SnowPlow.isNonEmptyJson(l)){var m=f(l);var n=JSON2.stringify(m);if(b){h(j,SnowPlow.base64urlencode(n))}else{i(k,n)}}};return{add:i,addRaw:h,addJson:g,build:function(){return d
}}};SnowPlow.Tracker=function Tracker(N){var b=SnowPlow.fixupUrl(SnowPlow.documentAlias.domain,SnowPlow.windowAlias.location.href,SnowPlow.getReferrer()),aq=SnowPlow.fixupDomain(b[0]),aE=b[1],ad=b[2],ab="GET",k="web",c=R(N),av="",I,w=SnowPlow.documentAlias.title,y="7z|aac|ar[cj]|as[fx]|avi|bin|csv|deb|dmg|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|ms[ip]|od[bfgpst]|og[gv]|pdf|phps|png|ppt|qtm?|ra[mr]?|rpm|sea|sit|tar|t?bz2?|tgz|torrent|txt|wav|wm[av]|wpd||xls|xml|z|zip",Z=[aq],e=[],Q=[],o=[],Y=500,f,q,g,aC="_sp_",h,aD,az,D,l=63072000000,n=1800000,L=15768000000,s=true,ax=SnowPlow.documentAlias.characterSet||SnowPlow.documentAlias.charset,j=SnowPlow.navigatorAlias.userLanguage||SnowPlow.navigatorAlias.language,aw=SnowPlow.detectBrowserFeatures(m("testcookie")),W=SnowPlow.detectTimezone(),p=SnowPlow.detectSignature(),ah=false,ae=false,ac,X,J,F,v,S,i,z=SnowPlow.sha1,ag,E,aI,d=an();function R(aJ){if(typeof aJ==="undefined"){return null}else{if("cf" in aJ){return A(aJ.cf)
}else{if("url" in aJ){return ao(aJ.url)}}}}function an(){return{transaction:{},items:[]}}function aA(aJ){var aK;if(g){aK=new RegExp("#.*");return aJ.replace(aK,"")}return aJ}function aG(aJ){var aL=new RegExp("^([a-z]+):"),aK=aL.exec(aJ);return aK?aK[1]:null}function ap(aL,aJ){var aM=aG(aJ),aK;if(aM){return aJ}if(aJ.slice(0,1)==="/"){return aG(aL)+"://"+SnowPlow.getHostName(aL)+aJ}aL=aA(aL);if((aK=aL.indexOf("?"))>=0){aL=aL.slice(0,aK)}if((aK=aL.lastIndexOf("/"))!==aL.length-1){aL=aL.slice(0,aK+1)}return aL+aJ}function aa(aM){var aK,aJ,aL;for(aK=0;aK<Z.length;aK++){aJ=SnowPlow.fixupDomain(Z[aK].toLowerCase());if(aM===aJ){return true}if(aJ.slice(0,1)==="."){if(aM===aJ.slice(1)){return true}aL=aM.length-aJ.length;if((aL>0)&&(aM.slice(aL)===aJ)){return true}}}return false}function aH(aJ){var aK=new Image(1,1);if(c===null){throw"No SnowPlow collector configured, cannot track"}aK.onload=function(){};aK.src=c+aJ}function B(aL,aK){var aJ=new Date();if(!az){aH(aL);SnowPlow.expireDateTime=aJ.getTime()+aK
}}function m(aJ){return aC+aJ+"."+ag}function C(aJ){return SnowPlow.getCookie(m(aJ))}function V(){ag=z((h||aq)+(aD||"/")).slice(0,4)}function au(){var aJ=new Date();ac=aJ.getTime()}function al(){H();au()}function M(){var aJ=(SnowPlow.documentAlias.compatMode&&SnowPlow.documentAlias.compatMode!="BackCompat")?SnowPlow.documentAlias.documentElement:SnowPlow.documentAlias.body;return[aJ.scrollLeft||SnowPlow.windowAlias.pageXOffset,aJ.scrollTop||SnowPlow.windowAlias.pageYOffset]}function T(){var aK=M();var aJ=aK[0];X=aJ;J=aJ;var aL=aK[1];F=aL;v=aL}function H(){var aK=M();var aJ=aK[0];if(aJ<X){X=aJ}else{if(aJ>J){J=aJ}}var aL=aK[1];if(aL<F){F=aL}else{if(aL>v){v=aL}}}function aB(aL,aK,aJ,aN,aM){SnowPlow.setCookie(m("id"),aL+"."+aK+"."+aJ+"."+aN+"."+aM,l,aD,h)}function am(){var aK=new Date(),aJ=Math.round(aK.getTime()/1000),aM=C("id"),aL;if(aM){aL=aM.split(".");aL.unshift("0")}else{if(!E){E=z((SnowPlow.navigatorAlias.userAgent||"")+(SnowPlow.navigatorAlias.platform||"")+JSON2.stringify(aw)+aJ).slice(0,16)
}aL=["1",E,aJ,0,aJ,""]}return aL}function G(){var aK=new Date(),aJ=aK.getTime();return aJ}function x(aJ,a2){var a1,aK=new Date(),aQ=Math.round(aK.getTime()/1000),a4,aU,aN,aX,aZ,aP,aO,a0,aM=1024,a5,aS,aW=m("id"),aR=m("ses"),aY=am(),aV=C("ses"),a3=I||aE,aT;if(az){SnowPlow.setCookie(aW,"",-1,aD,h);SnowPlow.setCookie(aR,"",-1,aD,h);return""}a4=aY[0];aU=aY[1];aX=aY[2];aN=aY[3];aZ=aY[4];aP=aY[5];if(!aV){aN++;aP=aZ}aJ.addRaw("dtm",G());aJ.addRaw("tid",String(Math.random()).slice(2,8));aJ.addRaw("vp",SnowPlow.detectViewport());aJ.addRaw("ds",SnowPlow.detectDocumentSize());aJ.addRaw("vid",aN);aJ.addRaw("duid",aU);aJ.add("p",k);aJ.add("tv",SnowPlow.version);aJ.add("fp",p);aJ.add("aid",av);aJ.add("lang",j);aJ.add("cs",ax);aJ.add("tz",W);aJ.add("uid",aI);if(ad.length){aJ.add("refr",aA(ad))}for(a1 in aw){if(Object.prototype.hasOwnProperty.call(aw,a1)){aT=(a1==="res"||a1==="cd"||a1==="cookie")?"":"f_";aJ.addRaw(aT+a1,aw[a1])}}aJ.add("url",aA(a3));var aL=aJ.build();aB(aU,aX,aN,aQ,aP);SnowPlow.setCookie(aR,"*",n,aD,h);
aL+=SnowPlow.executePluginMethod(a2);return aL}function A(aJ){return ao(aJ+".cloudfront.net")}function ao(aJ){return("https:"==SnowPlow.documentAlias.location.protocol?"https":"http")+"://"+aJ+"/i"}function P(aO,aK){var aN=SnowPlow.fixupTitle(aO||w);var aP=SnowPlow.payloadBuilder(s);aP.add("e","pv");aP.add("page",aN);aP.addJson("cx","co",aK);var aM=x(aP,"pageView");B(aM,Y);var aJ=new Date();if(f&&q&&!ae){ae=true;T();SnowPlow.addEventListener(SnowPlow.documentAlias,"click",au);SnowPlow.addEventListener(SnowPlow.documentAlias,"mouseup",au);SnowPlow.addEventListener(SnowPlow.documentAlias,"mousedown",au);SnowPlow.addEventListener(SnowPlow.documentAlias,"mousemove",au);SnowPlow.addEventListener(SnowPlow.documentAlias,"mousewheel",au);SnowPlow.addEventListener(SnowPlow.windowAlias,"DOMMouseScroll",au);SnowPlow.addEventListener(SnowPlow.windowAlias,"scroll",al);SnowPlow.addEventListener(SnowPlow.documentAlias,"keypress",au);SnowPlow.addEventListener(SnowPlow.documentAlias,"keydown",au);SnowPlow.addEventListener(SnowPlow.documentAlias,"keyup",au);
SnowPlow.addEventListener(SnowPlow.windowAlias,"resize",au);SnowPlow.addEventListener(SnowPlow.windowAlias,"focus",au);SnowPlow.addEventListener(SnowPlow.windowAlias,"blur",au);ac=aJ.getTime();setInterval(function aL(){var aQ=new Date();if((ac+q)>aQ.getTime()){if(f<aQ.getTime()){a(aN,aK)}}},q)}}function a(aL,aJ){var aM=SnowPlow.payloadBuilder(s);aM.add("e","pp");aM.add("page",aL);aM.addRaw("pp_mix",X);aM.addRaw("pp_max",J);aM.addRaw("pp_miy",F);aM.addRaw("pp_may",v);aM.addJson("cx","co",aJ);T();var aK=x(aM,"pagePing");B(aK,Y)}function t(aL,aO,aJ,aN,aM,aK){var aP=SnowPlow.payloadBuilder(s);aP.add("e","se");aP.add("se_ca",aL);aP.add("se_ac",aO);aP.add("se_la",aJ);aP.add("se_pr",aN);aP.add("se_va",aM);aP.addJson("cx","co",aK);request=x(aP,"structEvent");B(request,Y)}function U(aJ,aL,aK){var aM=SnowPlow.payloadBuilder(s);aM.add("e","ue");aM.add("ue_na",aJ);aM.addJson("ue_px","ue_pr",aL);aM.addJson("cx","co",aK);request=x(aM,"unstructEvent");B(request,Y)}function aj(aO,aN,aU,aP,aJ,aR,aK,aM,aS,aL){var aT=SnowPlow.payloadBuilder(s);
aT.add("e","tr");aT.add("tr_id",aO);aT.add("tr_af",aN);aT.add("tr_tt",aU);aT.add("tr_tx",aP);aT.add("tr_sh",aJ);aT.add("tr_ci",aR);aT.add("tr_st",aK);aT.add("tr_co",aM);aT.add("tr_cu",aS);aT.addJson("cx","co",aL);var aQ=x(aT,"transaction");B(aQ,Y)}function K(aM,aQ,aJ,aK,aP,aN,aR,aL){var aS=SnowPlow.payloadBuilder(s);aS.add("e","ti");aS.add("ti_id",aM);aS.add("ti_sk",aQ);aS.add("ti_na",aJ);aS.add("ti_ca",aK);aS.add("ti_pr",aP);aS.add("ti_qu",aN);aS.add("ti_cu",aR);aS.addJson("cx","co",aL);var aO=x(aS,"transactionItem");B(aO,Y)}function at(aK,aJ,aL){var aN=SnowPlow.payloadBuilder(s);aN.add("e",aJ);aN.add("t_url",aA(aK));var aM=x(aN,"link");B(aM,Y)}function af(aO,aJ,aM,aL,aK){var aN=SnowPlow.payloadBuilder(s);aN.add("e","ad");aN.add("ad_ba",aO);aN.add("ad_ca",aJ);aN.add("ad_ad",aM);aN.add("ad_uid",aL);aN.addJson("cx","co",aK);request=x(aN,"impression");B(request,Y)}function ay(aK,aJ){if(aK!==""){return aK+aJ.charAt(0).toUpperCase()+aJ.slice(1)}return aJ}function u(aO){var aN,aJ,aM=["","webkit","ms","moz"],aL;
if(!D){for(aJ=0;aJ<aM.length;aJ++){aL=aM[aJ];if(Object.prototype.hasOwnProperty.call(SnowPlow.documentAlias,ay(aL,"hidden"))){if(SnowPlow.documentAlias[ay(aL,"visibilityState")]==="prerender"){aN=true}break}}}if(aN){SnowPlow.addEventListener(SnowPlow.documentAlias,aL+"visibilitychange",function aK(){SnowPlow.documentAlias.removeEventListener(aL+"visibilitychange",aK,false);aO()});return}aO()}function r(aL,aK){var aM,aJ="(^| )(piwik[_-]"+aK;if(aL){for(aM=0;aM<aL.length;aM++){aJ+="|"+aL[aM]}}aJ+=")( |$)";return new RegExp(aJ)}function ar(aM,aJ,aN){if(!aN){return"lnk"}var aL=r(Q,"download"),aK=r(o,"link"),aO=new RegExp("\\.("+y+")([?&#]|$)","i");return aK.test(aM)?"lnk":(aL.test(aM)||aO.test(aJ)?"dl":0)}function ak(aO){var aM,aK,aJ;while((aM=aO.parentNode)!==null&&SnowPlow.isDefined(aM)&&((aK=aO.tagName.toUpperCase())!=="A"&&aK!=="AREA")){aO=aM}if(SnowPlow.isDefined(aO.href)){var aP=aO.hostname||SnowPlow.getHostName(aO.href),aQ=aP.toLowerCase(),aL=aO.href.replace(aP,aQ),aN=new RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):","i");
if(!aN.test(aL)){aJ=ar(aO.className,aL,aa(aQ));if(aJ){aL=SnowPlow.decodeUrl(aL);at(aL,aJ)}}}}function aF(aJ){var aK,aL;aJ=aJ||SnowPlow.windowAlias.event;aK=aJ.which||aJ.button;aL=aJ.target||aJ.srcElement;if(aJ.type==="click"){if(aL){ak(aL)}}else{if(aJ.type==="mousedown"){if((aK===1||aK===2)&&aL){S=aK;i=aL}else{S=i=null}}else{if(aJ.type==="mouseup"){if(aK===S&&aL===i){ak(aL)}S=i=null}}}}function ai(aK,aJ){if(aJ){SnowPlow.addEventListener(aK,"mouseup",aF,false);SnowPlow.addEventListener(aK,"mousedown",aF,false)}else{SnowPlow.addEventListener(aK,"click",aF,false)}}function O(aK){if(!ah){ah=true;var aL,aJ=r(e,"ignore"),aM=SnowPlow.documentAlias.links;if(aM){for(aL=0;aL<aM.length;aL++){if(!aJ.test(aM[aL].className)){ai(aM[aL],aK)}}}}}V();return{getUserId:function(){return aI},getDomainUserId:function(){return(am())[1]},getDomainUserInfo:function(){return am()},getVisitorId:function(){if(typeof console!=="undefined"){console.log("SnowPlow: getVisitorId() is deprecated and will be removed in an upcoming version. Please use getDomainUserId() instead.")
}return(loadVisitorIdCookie())[1]},getVisitorInfo:function(){if(typeof console!=="undefined"){console.log("SnowPlow: getVisitorInfo() is deprecated and will be removed in an upcoming version. Please use getDomainUserInfo() instead.")}return loadVisitorIdCookie()},setSiteId:function(aJ){if(typeof console!=="undefined"){console.log("SnowPlow: setSiteId() is deprecated and will be removed in an upcoming version. Please use setAppId() instead.")}av=aJ},setAppId:function(aJ){av=aJ},setLinkTrackingTimer:function(aJ){Y=aJ},setDownloadExtensions:function(aJ){y=aJ},addDownloadExtensions:function(aJ){y+="|"+aJ},setDomains:function(aJ){Z=SnowPlow.isString(aJ)?[aJ]:aJ;Z.push(aq)},setIgnoreClasses:function(aJ){e=SnowPlow.isString(aJ)?[aJ]:aJ},setReferrerUrl:function(aJ){ad=aJ},setCustomUrl:function(aJ){I=ap(aE,aJ)},setDocumentTitle:function(aJ){w=aJ},setDownloadClasses:function(aJ){Q=SnowPlow.isString(aJ)?[aJ]:aJ},setLinkClasses:function(aJ){o=SnowPlow.isString(aJ)?[aJ]:aJ},discardHashTag:function(aJ){g=aJ
},setCookieNamePrefix:function(aJ){aC=aJ},setCookieDomain:function(aJ){h=SnowPlow.fixupDomain(aJ);V()},setCookiePath:function(aJ){aD=aJ;V()},setVisitorCookieTimeout:function(aJ){l=aJ*1000},setSessionCookieTimeout:function(aJ){n=aJ*1000},setReferralCookieTimeout:function(aJ){L=aJ*1000},respectDoNotTrack:function(aK){var aJ=SnowPlow.navigatorAlias.doNotTrack||SnowPlow.navigatorAlias.msDoNotTrack;az=aK&&(aJ==="yes"||aJ==="1")},addListener:function(aK,aJ){ai(aK,aJ)},enableLinkTracking:function(aJ){if(SnowPlow.hasLoaded){O(aJ)}else{SnowPlow.registeredOnLoadHandlers.push(function(){O(aJ)})}},enableActivityTracking:function(aL,aK){var aJ=new Date();f=aJ.getTime()+aL*1000;q=aK*1000},killFrame:function(){if(SnowPlow.windowAlias.location!==SnowPlow.windowAlias.top.location){SnowPlow.windowAlias.top.location=SnowPlow.windowAlias.location}},redirectFile:function(aJ){if(SnowPlow.windowAlias.location.protocol==="file:"){SnowPlow.windowAlias.location=aJ}},setCountPreRendered:function(aJ){D=aJ},setUserId:function(aJ){aI=aJ
},setUserIdFromLocation:function(aJ){aI=SnowPlow.fromQuerystring(aJ,aE)},setUserIdFromReferrer:function(aJ){aI=SnowPlow.fromQuerystring(aJ,ad)},setUserIdFromCookie:function(aJ){aI=SnowPlow.getCookie(aJ)},attachUserId:function(aJ){if(typeof console!=="undefined"){console.log("SnowPlow: attachUserId() is deprecated and will be removed in an upcoming version. It no longer does anything (because nuid and duid have been separated out).")}},setCollectorCf:function(aJ){c=A(aJ)},setCollectorUrl:function(aJ){c=ao(aJ)},setPlatform:function(aJ){k=aJ},encodeBase64:function(aJ){s=aJ},trackPageView:function(aK,aJ){u(function(){P(aK,aJ)})},trackEvent:function(aK,aN,aJ,aM,aL){if(typeof console!=="undefined"){console.log("SnowPlow: trackEvent() is deprecated and will be removed in an upcoming version. Please use trackStructEvent() instead.")}t(aK,aN,aJ,aM,aL)},trackStructEvent:function(aL,aO,aJ,aN,aM,aK){t(aL,aO,aJ,aN,aM,aK)},trackUnstructEvent:function(aJ,aL,aK){U(aJ,aL,aK)},addTrans:function(aO,aN,aS,aP,aJ,aQ,aK,aM,aR,aL){d.transaction={orderId:aO,affiliation:aN,total:aS,tax:aP,shipping:aJ,city:aQ,state:aK,country:aM,currency:aR,context:aL}
},addItem:function(aJ,aQ,aL,aO,aN,aP,aK,aM){d.items.push({orderId:aJ,sku:aQ,name:aL,category:aO,price:aN,quantity:aP,currency:aK,context:aM})},trackTrans:function(){aj(d.transaction.orderId,d.transaction.affiliation,d.transaction.total,d.transaction.tax,d.transaction.shipping,d.transaction.city,d.transaction.state,d.transaction.country,d.transaction.currency,d.transaction.context);for(var aJ=0;aJ<d.items.length;aJ++){var aK=d.items[aJ];K(aK.orderId,aK.sku,aK.name,aK.category,aK.price,aK.quantity,aK.currency,aK.context)}d=an()},trackLink:function(aL,aJ,aK){u(function(){at(aL,aJ,aK)})},trackImpression:function(aN,aJ,aM,aL,aK){af(aN,aJ,aM,aL,aK)}}};SnowPlow.build=function(){function b(){var g,j,h;for(g=0;g<arguments.length;g+=1){h=arguments[g];j=h.shift();if(SnowPlow.isString(j)){SnowPlow.asyncTracker[j].apply(SnowPlow.asyncTracker,h)}else{j.apply(SnowPlow.asyncTracker,h)}}}function f(){var g;SnowPlow.executePluginMethod("unload");if(SnowPlow.expireDateTime){do{g=new Date()}while(g.getTimeAlias()<SnowPlow.expireDateTime)
}}function d(){var g;if(!SnowPlow.hasLoaded){SnowPlow.hasLoaded=true;SnowPlow.executePluginMethod("load");for(g=0;g<SnowPlow.registeredOnLoadHandlers.length;g++){SnowPlow.registeredOnLoadHandlers[g]()}}return true}function e(){var h;if(SnowPlow.documentAlias.addEventListener){SnowPlow.addEventListener(SnowPlow.documentAlias,"DOMContentLoaded",function g(){SnowPlow.documentAlias.removeEventListener("DOMContentLoaded",g,false);d()})}else{if(SnowPlow.documentAlias.attachEvent){SnowPlow.documentAlias.attachEvent("onreadystatechange",function g(){if(SnowPlow.documentAlias.readyState==="complete"){SnowPlow.documentAlias.detachEvent("onreadystatechange",g);d()}});if(SnowPlow.documentAlias.documentElement.doScroll&&SnowPlow.windowAlias===SnowPlow.windowAlias.top){(function g(){if(!SnowPlow.hasLoaded){try{SnowPlow.documentAlias.documentElement.doScroll("left")}catch(i){setTimeout(g,0);return}d()}}())}}}if((new RegExp("WebKit")).test(SnowPlow.navigatorAlias.userAgent)){h=setInterval(function(){if(SnowPlow.hasLoaded||/loaded|complete/.test(SnowPlow.documentAlias.readyState)){clearInterval(h);
d()}},10)}SnowPlow.addEventListener(SnowPlow.windowAlias,"load",d,false)}function a(){return{push:b}}SnowPlow.addEventListener(SnowPlow.windowAlias,"beforeunload",f,false);e();Date.prototype.getTimeAlias=Date.prototype.getTime;SnowPlow.asyncTracker=new SnowPlow.Tracker();for(var c=0;c<_snaq.length;c++){b(_snaq[c])}_snaq=new a();return{addPlugin:function(g,h){SnowPlow.plugins[g]=h},getTrackerCf:function(g){return new SnowPlow.Tracker({cf:g})},getTrackerUrl:function(g){return new SnowPlow.Tracker({url:g})},getAsyncTracker:function(){return SnowPlow.asyncTracker}}};(function(){var a=SnowPlow.build();for(prop in a){if(a.hasOwnProperty(prop)){if(SnowPlow[prop]===undefined){SnowPlow[prop]=a[prop]}}}}());