/*
 * Snowplow - The world's most powerful web analytics platform
 *
 * @description JavaScript tracker for Snowplow
 * @version     0.12.0
 * @author      Alex Dean, Simon Andersson, Anthon Pang
 * @copyright   Anthon Pang, Snowplow Analytics Ltd
 * @license     Simplified BSD
 */
if(!this.JSON2){this.JSON2={}}(function(){function d(f){return f<10?"0"+f:f}function l(n,m){var f=Object.prototype.toString.apply(n);if(f==="[object Date]"){return isFinite(n.valueOf())?n.getUTCFullYear()+"-"+d(n.getUTCMonth()+1)+"-"+d(n.getUTCDate())+"T"+d(n.getUTCHours())+":"+d(n.getUTCMinutes())+":"+d(n.getUTCSeconds())+"Z":null}if(f==="[object String]"||f==="[object Number]"||f==="[object Boolean]"){return n.valueOf()}if(f!=="[object Array]"&&typeof n.toJSON==="function"){return n.toJSON(m)}return n}var c=new RegExp("[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]","g"),e='\\\\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]',i=new RegExp("["+e,"g"),j,b,k={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h;
function a(f){i.lastIndex=0;return i.test(f)?'"'+f.replace(i,function(m){var n=k[m];return typeof n==="string"?n:"\\u"+("0000"+m.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+f+'"'}function g(s,p){var n,m,t,f,q=j,o,r=p[s];if(r&&typeof r==="object"){r=l(r,s)}if(typeof h==="function"){r=h.call(p,s,r)}switch(typeof r){case"string":return a(r);case"number":return isFinite(r)?String(r):"null";case"boolean":case"null":return String(r);case"object":if(!r){return"null"}j+=b;o=[];if(Object.prototype.toString.apply(r)==="[object Array]"){f=r.length;for(n=0;n<f;n+=1){o[n]=g(n,r)||"null"}t=o.length===0?"[]":j?"[\n"+j+o.join(",\n"+j)+"\n"+q+"]":"["+o.join(",")+"]";j=q;return t}if(h&&typeof h==="object"){f=h.length;for(n=0;n<f;n+=1){if(typeof h[n]==="string"){m=h[n];t=g(m,r);if(t){o.push(a(m)+(j?": ":":")+t)}}}}else{for(m in r){if(Object.prototype.hasOwnProperty.call(r,m)){t=g(m,r);if(t){o.push(a(m)+(j?": ":":")+t)}}}}t=o.length===0?"{}":j?"{\n"+j+o.join(",\n"+j)+"\n"+q+"}":"{"+o.join(",")+"}";j=q;
return t}}if(typeof JSON2.stringify!=="function"){JSON2.stringify=function(o,m,n){var f;j="";b="";if(typeof n==="number"){for(f=0;f<n;f+=1){b+=" "}}else{if(typeof n==="string"){b=n}}h=m;if(m&&typeof m!=="function"&&(typeof m!=="object"||typeof m.length!=="number")){throw new Error("JSON.stringify")}return g("",{"":o})}}if(typeof JSON2.parse!=="function"){JSON2.parse=function(o,f){var n;function m(s,r){var q,p,t=s[r];if(t&&typeof t==="object"){for(q in t){if(Object.prototype.hasOwnProperty.call(t,q)){p=m(t,q);if(p!==undefined){t[q]=p}else{delete t[q]}}}}return f.call(s,r,t)}o=String(o);c.lastIndex=0;if(c.test(o)){o=o.replace(c,function(p){return"\\u"+("0000"+p.charCodeAt(0).toString(16)).slice(-4)})}if((new RegExp("^[\\],:{}\\s]*$")).test(o.replace(new RegExp('\\\\(?:["\\\\/bfnrt]|u[0-9a-fA-F]{4})',"g"),"@").replace(new RegExp('"[^"\\\\\n\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?',"g"),"]").replace(new RegExp("(?:^|:|,)(?:\\s*\\[)+","g"),""))){n=eval("("+o+")");
return typeof f==="function"?m({"":n},""):n}throw new SyntaxError("JSON.parse")}}}());(function(a){var b=(function(){var f="s",g=function(j){var k=-j.getTimezoneOffset();return(k!==null?k:0)},c=function(){return g(new Date(2010,0,1,0,0,0,0))},e=function(){return g(new Date(2010,5,1,0,0,0,0))},h=function(k){var l=((k.getMonth()>5?e():c())),j=g(k);return(l-j)!==0},i=function(){var j=c(),k=e(),l=c()-e();if(l<0){return j+",1"}else{if(l>0){return k+",1,"+f}}return j+",0"},d=function(){var j=i();return new b.TimeZone(b.olson.timezones[j])};return{determine_timezone:function(){if(typeof console!=="undefined"){console.log("jstz.determine_timezone() is deprecated and will be removed in an upcoming version. Please use jstz.determine() instead.")}return d()},determine:d,date_is_dst:h}}());b.TimeZone=function(c){var e=null,d=function(){return e},g=function(){var h=b.olson.ambiguity_list[e],k=h.length,j=0,l=h[0];for(;j<k;j+=1){l=h[j];if(b.date_is_dst(b.olson.dst_start_dates[l])){e=l;return}}},f=function(){return typeof(b.olson.ambiguity_list[e])!=="undefined"
};e=c;if(f()){g()}return{name:d}};b.olson={};b.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"Etc/GMT+2","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"Etc/UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,1":"Europe/Moscow","180,0":"Asia/Baghdad","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Yerevan","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"};
b.olson.dst_start_dates={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"Atlantic/Stanley":new Date(2011,8,4,7,0,0,0),"America/Asuncion":new Date(2011,9,2,3,0,0,0),"America/Santiago":new Date(2011,9,9,3,0,0,0),"America/Campo_Grande":new Date(2011,9,16,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2011,2,13,2,0,0,0),"America/New_York":new Date(2011,2,13,7,0,0,0),"Asia/Gaza":new Date(2011,2,26,23,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Minsk":new Date(2011,2,27,2,0,0,0),"Europe/Helsinki":new Date(2011,2,27,4,0,0,0),"Europe/Istanbul":new Date(2011,2,28,5,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Africa/Cairo":new Date(2010,3,30,4,0,0,0),"Asia/Yerevan":new Date(2011,2,27,4,0,0,0),"Asia/Baku":new Date(2011,2,27,8,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0)};
b.olson.ambiguity_list={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Asuncion":["Atlantic/Stanley","America/Asuncion","America/Santiago","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Gaza","Asia/Beirut","Europe/Minsk","Europe/Helsinki","Europe/Istanbul","Asia/Damascus","Asia/Jerusalem","Africa/Cairo"],"Asia/Yerevan":["Asia/Yerevan","Asia/Baku"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"]};if(typeof exports!=="undefined"){exports.jstz=b}else{a.jstz=b}})(this);var _snaq=_snaq||[];var SnowPlow=SnowPlow||function(){var a=window;return{version:"js-0.12.0",expireDateTime:null,plugins:{},hasLoaded:false,registeredOnLoadHandlers:[],documentAlias:document,windowAlias:a,navigatorAlias:navigator,screenAlias:screen,encodeWrapper:a.encodeURIComponent,decodeWrapper:a.decodeURIComponent,decodeUrl:unescape,asyncTracker:null}
}();SnowPlow.isDefined=function(a){return typeof a!=="undefined"};SnowPlow.isFunction=function(a){return typeof a==="function"};SnowPlow.isObject=function(a){return typeof a==="object"};SnowPlow.isString=function(a){return typeof a==="string"||a instanceof String};SnowPlow.isDate=function(a){return Object.prototype.toString.call(a)==="[object Date]"};SnowPlow.encodeUtf8=function(a){return SnowPlow.decodeUrl(SnowPlow.encodeWrapper(a))};SnowPlow.fixupTitle=function(b){if(!SnowPlow.isString(b)){b=b.text||"";var a=SnowPlow.documentAlias.getElementsByTagName("title");if(a&&SnowPlow.isDefined(a[0])){b=a[0].text}}return b};SnowPlow.getHostName=function(a){var c=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)"),b=c.exec(a);return b?b[1]:a};SnowPlow.getPropertySuffix=function(b){var c=new RegExp("\\$(.[^\\$]+)$"),a=c.exec(b);if(a){return a[1]}};SnowPlow.hasSessionStorage=function(){try{return !!SnowPlow.windowAlias.sessionStorage}catch(a){return true}};SnowPlow.hasLocalStorage=function(){try{return !!SnowPlow.windowAlias.localStorage
}catch(a){return true}};SnowPlow.toTimestamp=function(b,a){return a?b/1:Math.floor(b/1000)};SnowPlow.toDatestamp=function(a){return Math.floor(a/86400000)};SnowPlow.translateDateValue=function(a,b){switch(b){case"tms":return SnowPlow.toTimestamp(a,true);case"ts":return SnowPlow.toTimestamp(a,false);case"dt":return SnowPlow.toDatestamp(a);default:return a}};SnowPlow.fixupUrl=function(d,a,b){function c(i,h){var l=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+)[?])([^#]+)"),k=l.exec(i),j=new RegExp("(?:^|&)"+h+"=([^&]*)"),g=k?j.exec(k[1]):0;return g?SnowPlow.decodeWrapper(g[1]):""}if(d==="translate.googleusercontent.com"){if(b===""){b=a}a=c(a,"u");d=SnowPlow.getHostName(a)}else{if(d==="cc.bingj.com"||d==="webcache.googleusercontent.com"||d.slice(0,5)==="74.6."){a=SnowPlow.documentAlias.links[0].href;d=SnowPlow.getHostName(a)}}return[d,a,b]};SnowPlow.fixupDomain=function(b){var a=b.length;if(b.charAt(--a)==="."){b=b.slice(0,a)}if(b.slice(0,2)==="*."){b=b.slice(1)}return b};SnowPlow.getReferrer=function(){var a="";
try{a=SnowPlow.windowAlias.top.document.referrer}catch(c){if(SnowPlow.windowAlias.parent){try{a=SnowPlow.windowAlias.parent.document.referrer}catch(b){a=""}}}if(a===""){a=SnowPlow.documentAlias.referrer}return a};SnowPlow.addEventListener=function(d,c,b,a){if(d.addEventListener){d.addEventListener(c,b,a);return true}if(d.attachEvent){return d.attachEvent("on"+c,b)}d["on"+c]=b};SnowPlow.getCookie=function(c){var a=new RegExp("(^|;)[ ]*"+c+"=([^;]*)"),b=a.exec(SnowPlow.documentAlias.cookie);return b?SnowPlow.decodeWrapper(b[2]):0};SnowPlow.setCookie=function(g,d,c,f,b,e){var a;if(c){a=new Date();a.setTime(a.getTime()+c)}SnowPlow.documentAlias.cookie=g+"="+SnowPlow.encodeWrapper(d)+(c?";expires="+a.toGMTString():"")+";path="+(f||"/")+(b?";domain="+b:"")+(e?";secure":"")};SnowPlow.executePluginMethod=function(b,e){var a="",d,c;for(d in SnowPlow.plugins){if(Object.prototype.hasOwnProperty.call(SnowPlow.plugins,d)){c=SnowPlow.plugins[d][b];if(SnowPlow.isFunction(c)){a+=c(e)}}}return a};SnowPlow.sha1=function sha1(r){var c=function(j,i){return(j<<i)|(j>>>(32-i))
},s=function(y){var x="",w,j;for(w=7;w>=0;w--){j=(y>>>(w*4))&15;x+=j.toString(16)}return x},f,u,t,b=[],l=1732584193,h=4023233417,g=2562383102,e=271733878,d=3285377520,q,p,o,n,m,v,a,k=[];r=SnowPlow.encodeUtf8(r);a=r.length;for(u=0;u<a-3;u+=4){t=r.charCodeAt(u)<<24|r.charCodeAt(u+1)<<16|r.charCodeAt(u+2)<<8|r.charCodeAt(u+3);k.push(t)}switch(a&3){case 0:u=2147483648;break;case 1:u=r.charCodeAt(a-1)<<24|8388608;break;case 2:u=r.charCodeAt(a-2)<<24|r.charCodeAt(a-1)<<16|32768;break;case 3:u=r.charCodeAt(a-3)<<24|r.charCodeAt(a-2)<<16|r.charCodeAt(a-1)<<8|128;break}k.push(u);while((k.length&15)!==14){k.push(0)}k.push(a>>>29);k.push((a<<3)&4294967295);for(f=0;f<k.length;f+=16){for(u=0;u<16;u++){b[u]=k[f+u]}for(u=16;u<=79;u++){b[u]=c(b[u-3]^b[u-8]^b[u-14]^b[u-16],1)}q=l;p=h;o=g;n=e;m=d;for(u=0;u<=19;u++){v=(c(q,5)+((p&o)|(~p&n))+m+b[u]+1518500249)&4294967295;m=n;n=o;o=c(p,30);p=q;q=v}for(u=20;u<=39;u++){v=(c(q,5)+(p^o^n)+m+b[u]+1859775393)&4294967295;m=n;n=o;o=c(p,30);p=q;q=v}for(u=40;u<=59;u++){v=(c(q,5)+((p&o)|(p&n)|(o&n))+m+b[u]+2400959708)&4294967295;
m=n;n=o;o=c(p,30);p=q;q=v}for(u=60;u<=79;u++){v=(c(q,5)+(p^o^n)+m+b[u]+3395469782)&4294967295;m=n;n=o;o=c(p,30);p=q;q=v}l=(l+q)&4294967295;h=(h+p)&4294967295;g=(g+o)&4294967295;e=(e+n)&4294967295;d=(d+m)&4294967295}v=s(l)+s(h)+s(g)+s(e)+s(d);return v.toLowerCase()};SnowPlow.murmurhash3_32_gc=function murmurhash3_32_gc(k,f){var l,m,h,b,e,a,c,j,g,d;l=k.length&3;m=k.length-l;h=f;e=3432918353;c=461845907;d=0;while(d<m){g=((k.charCodeAt(d)&255))|((k.charCodeAt(++d)&255)<<8)|((k.charCodeAt(++d)&255)<<16)|((k.charCodeAt(++d)&255)<<24);++d;g=((((g&65535)*e)+((((g>>>16)*e)&65535)<<16)))&4294967295;g=(g<<15)|(g>>>17);g=((((g&65535)*c)+((((g>>>16)*c)&65535)<<16)))&4294967295;h^=g;h=(h<<13)|(h>>>19);b=((((h&65535)*5)+((((h>>>16)*5)&65535)<<16)))&4294967295;h=(((b&65535)+27492)+((((b>>>16)+58964)&65535)<<16))}g=0;switch(l){case 3:g^=(k.charCodeAt(d+2)&255)<<16;case 2:g^=(k.charCodeAt(d+1)&255)<<8;case 1:g^=(k.charCodeAt(d)&255);g=(((g&65535)*e)+((((g>>>16)*e)&65535)<<16))&4294967295;g=(g<<15)|(g>>>17);
g=(((g&65535)*c)+((((g>>>16)*c)&65535)<<16))&4294967295;h^=g}h^=k.length;h^=h>>>16;h=(((h&65535)*2246822507)+((((h>>>16)*2246822507)&65535)<<16))&4294967295;h^=h>>>13;h=((((h&65535)*3266489909)+((((h>>>16)*3266489909)&65535)<<16)))&4294967295;h^=h>>>16;return h>>>0};SnowPlow.base64encode=function sha1(j){if(!j){return j}if(typeof window.btoa=="function"){return btoa(j)}var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var d,c,b,n,m,l,k,o,h=0,p=0,g="",f=[];do{d=j.charCodeAt(h++);c=j.charCodeAt(h++);b=j.charCodeAt(h++);o=d<<16|c<<8|b;n=o>>18&63;m=o>>12&63;l=o>>6&63;k=o&63;f[p++]=e.charAt(n)+e.charAt(m)+e.charAt(l)+e.charAt(k)}while(h<j.length);g=f.join("");var a=j.length%3;return(a?g.slice(0,a-3):g)+"===".slice(a||3)};SnowPlow.base64urlencode=function(b){if(!b){return b}var a=SnowPlow.base64encode(b);return a.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")};SnowPlow.Tracker=function Tracker(Q){var b=SnowPlow.fixupUrl(SnowPlow.documentAlias.domain,SnowPlow.windowAlias.location.href,SnowPlow.getReferrer()),aw=SnowPlow.fixupDomain(b[0]),aM=b[1],ag=b[2],ae="GET",m="web",d=U(Q),aB="",L,A=SnowPlow.documentAlias.title,C="7z|aac|ar[cj]|as[fx]|avi|bin|csv|deb|dmg|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|ms[ip]|od[bfgpst]|og[gv]|pdf|phps|png|ppt|qtm?|ra[mr]?|rpm|sea|sit|tar|t?bz2?|tgz|torrent|txt|wav|wm[av]|wpd||xls|xml|z|zip",ac=[aw],f=[],T=[],q=[],ab=500,g,s,h,aK="_sp_",j,aL,aG,G,n=63072000000,o=1800000,O=15768000000,v=true,aE=SnowPlow.documentAlias.characterSet||SnowPlow.documentAlias.charset,l=SnowPlow.navigatorAlias.userLanguage||SnowPlow.navigatorAlias.language,aC=aI(),Z=i(),r=ah(),al=false,ai=false,af,aa,M,I,z,V,k,D=SnowPlow.sha1,ak,H,aQ,e=at();
function U(aR){if(typeof aR==="undefined"){return null}else{if("cf" in aR){return E(aR.cf)}else{if("url" in aR){return au(aR.url)}}}}function at(){return{transaction:{},items:[]}}function aH(aR){var aS;if(h){aS=new RegExp("#.*");return aR.replace(aS,"")}return aR}function aO(aR){var aT=new RegExp("^([a-z]+):"),aS=aT.exec(aR);return aS?aS[1]:null}function av(aT,aR){var aU=aO(aR),aS;if(aU){return aR}if(aR.slice(0,1)==="/"){return aO(aT)+"://"+SnowPlow.getHostName(aT)+aR}aT=aH(aT);if((aS=aT.indexOf("?"))>=0){aT=aT.slice(0,aS)}if((aS=aT.lastIndexOf("/"))!==aT.length-1){aT=aT.slice(0,aS+1)}return aT+aR}function ad(aU){var aS,aR,aT;for(aS=0;aS<ac.length;aS++){aR=SnowPlow.fixupDomain(ac[aS].toLowerCase());if(aU===aR){return true}if(aR.slice(0,1)==="."){if(aU===aR.slice(1)){return true}aT=aU.length-aR.length;if((aT>0)&&(aU.slice(aT)===aR)){return true}}}return false}function aP(aR){var aS=new Image(1,1);if(d===null){throw"No SnowPlow collector configured, cannot track"}aS.onload=function(){};aS.src=d+aR
}function F(aT,aS){var aR=new Date();if(!aG){aP(aT);SnowPlow.expireDateTime=aR.getTime()+aS}}function ar(aR){return aK+aR+"."+ak}function t(aR){return aK+aR+"."+aB+"."+ak}function aD(aS){var aR=SnowPlow.getCookie(ar(aS));if(aR){return aR}return SnowPlow.getCookie(t(aS))}function c(){var aR=ar("testcookie");if(!SnowPlow.isDefined(SnowPlow.navigatorAlias.cookieEnabled)){SnowPlow.setCookie(aR,"1");return SnowPlow.getCookie(aR)==="1"?"1":"0"}return SnowPlow.navigatorAlias.cookieEnabled?"1":"0"}function Y(){ak=D((j||aw)+(aL||"/")).slice(0,4)}function aA(){var aR=new Date();af=aR.getTime()}function ap(){K();aA()}function P(){var aR=(SnowPlow.documentAlias.compatMode&&SnowPlow.documentAlias.compatMode!="BackCompat")?SnowPlow.documentAlias.documentElement:SnowPlow.documentAlias.body;return[aR.scrollLeft||SnowPlow.windowAlias.pageXOffset,aR.scrollTop||SnowPlow.windowAlias.pageYOffset]}function W(){var aS=P();var aR=aS[0];aa=aR;M=aR;var aT=aS[1];I=aT;z=aT}function K(){var aS=P();var aR=aS[0];if(aR<aa){aa=aR
}else{if(aR>M){M=aR}}var aT=aS[1];if(aT<I){I=aT}else{if(aT>z){z=aT}}}function aJ(aT,aS,aR,aV,aU){SnowPlow.setCookie(ar("id"),aT+"."+aS+"."+aR+"."+aV+"."+aU,n,aL,j)}function aq(){var aS=new Date(),aR=Math.round(aS.getTime()/1000),aU=aD("id"),aT;if(aU){aT=aU.split(".");aT.unshift("0")}else{if(!H){H=D((SnowPlow.navigatorAlias.userAgent||"")+(SnowPlow.navigatorAlias.platform||"")+JSON2.stringify(aC)+aR).slice(0,16)}aT=["1",H,aR,0,aR,""]}return aT}function J(){var aS=new Date(),aR=aS.getTime();return aR}function B(aR,ba){var a9,aS=new Date(),aY=Math.round(aS.getTime()/1000),bc,a2,aV,a5,a7,aX,aW,a8,aU=1024,bd,a0,a4=ar("id"),aZ=ar("ses"),a6=aq(),a3=aD("ses"),bb=L||aM,a1;if(aG){SnowPlow.setCookie(a4,"",-1,aL,j);SnowPlow.setCookie(aZ,"",-1,aL,j);return""}bc=a6[0];a2=a6[1];a5=a6[2];aV=a6[3];a7=a6[4];aX=a6[5];if(!a3){aV++;aX=a7}aR.addRaw("dtm",J());aR.addRaw("tid",String(Math.random()).slice(2,8));aR.addRaw("vp",y());aR.addRaw("ds",p());aR.addRaw("vid",aV);aR.addRaw("duid",a2);aR.add("p",m);aR.add("tv",SnowPlow.version);
aR.add("fp",r);aR.add("aid",aB);aR.add("lang",l);aR.add("cs",aE);aR.add("tz",Z);aR.add("uid",aQ);if(ag.length){aR.add("refr",aH(ag))}for(a9 in aC){if(Object.prototype.hasOwnProperty.call(aC,a9)){a1=(a9==="res"||a9==="cd"||a9==="cookie")?"":"f_";aR.addRaw(a1+a9,aC[a9])}}aR.add("url",aH(bb));var aT=aR.build();aJ(a2,a5,aV,aY,aX);SnowPlow.setCookie(aZ,"*",o,aL,j);aT+=SnowPlow.executePluginMethod(ba);return aT}function E(aR){return au(aR+".cloudfront.net")}function au(aR){return("https:"==SnowPlow.documentAlias.location.protocol?"https":"http")+"://"+aR+"/i"}function ax(aR){var aT=aR||"";var aS=function(aV,aX,aW){if(aX!==undefined&&aX!==""){var aU=(aT.length>0)?"&":"?";aT+=aU+aV+"="+(aW?SnowPlow.encodeWrapper(aX):aX)}};return{add:function(aU,aV){aS(aU,aV,true)},addRaw:function(aU,aV){aS(aU,aV,false)},build:function(){return aT}}}function w(aS,aV,aR,aU,aT){var aW=ax();aW.add("e","se");aW.add("se_ca",aS);aW.add("se_ac",aV);aW.add("se_la",aR);aW.add("se_pr",aU);aW.add("se_va",aT);request=B(aW,"structEvent");
F(request,ab)}function X(aR,aT){var aX=ax();aX.add("e","ue");aX.add("ue_na",aR);var aW={};for(var aV in aT){var aS=aV,aU=aT[aV];if(aT.hasOwnProperty(aV)&&SnowPlow.isDate(aT[aV])){type=SnowPlow.getPropertySuffix(aV);if(!type){type="tms";aS+="$"+type}aU=SnowPlow.translateDateValue(aU,type)}aW[aS]=aU}pr_string=JSON2.stringify(aW);if(v){aX.addRaw("ue_px",SnowPlow.base64urlencode(pr_string))}else{aX.add("ue_pr",pr_string)}request=B(aX,"unstructEvent");F(request,ab)}function aj(aV,aR,aT,aS){var aU=ax();aU.add("e","ad");aU.add("ad_ba",aV);aU.add("ad_ca",aR);aU.add("ad_ad",aT);aU.add("ad_uid",aS);request=B(aU,"impression");F(request,ab)}function an(aV,aU,a0,aW,aR,aY,aS,aT){var aZ=ax();aZ.add("e","tr");aZ.add("tr_id",aV);aZ.add("tr_af",aU);aZ.add("tr_tt",a0);aZ.add("tr_tx",aW);aZ.add("tr_sh",aR);aZ.add("tr_ci",aY);aZ.add("tr_st",aS);aZ.add("tr_co",aT);var aX=B(aZ,"transaction");F(aX,ab)}function N(aR,aY,aS,aV,aU,aW){var aX=ax();aX.add("e","ti");aX.add("ti_id",aR);aX.add("ti_sk",aY);aX.add("ti_na",aS);
aX.add("ti_ca",aV);aX.add("ti_pr",aU);aX.add("ti_qu",aW);var aT=B(aX,"transactionItem");F(aT,ab)}function S(aV){var aU=SnowPlow.fixupTitle(aV||A);var aW=ax();aW.add("e","pv");aW.add("page",aU);var aT=B(aW,"pageView");F(aT,ab);var aR=new Date();if(g&&s&&!ai){ai=true;W();SnowPlow.addEventListener(SnowPlow.documentAlias,"click",aA);SnowPlow.addEventListener(SnowPlow.documentAlias,"mouseup",aA);SnowPlow.addEventListener(SnowPlow.documentAlias,"mousedown",aA);SnowPlow.addEventListener(SnowPlow.documentAlias,"mousemove",aA);SnowPlow.addEventListener(SnowPlow.documentAlias,"mousewheel",aA);SnowPlow.addEventListener(SnowPlow.windowAlias,"DOMMouseScroll",aA);SnowPlow.addEventListener(SnowPlow.windowAlias,"scroll",ap);SnowPlow.addEventListener(SnowPlow.documentAlias,"keypress",aA);SnowPlow.addEventListener(SnowPlow.documentAlias,"keydown",aA);SnowPlow.addEventListener(SnowPlow.documentAlias,"keyup",aA);SnowPlow.addEventListener(SnowPlow.windowAlias,"resize",aA);SnowPlow.addEventListener(SnowPlow.windowAlias,"focus",aA);
SnowPlow.addEventListener(SnowPlow.windowAlias,"blur",aA);af=aR.getTime();setInterval(function aS(){var aX=new Date();if((af+s)>aX.getTime()){if(g<aX.getTime()){a(aU)}}},s)}}function a(aS){var aT=ax();aT.add("e","pp");aT.add("page",aS);aT.addRaw("pp_mix",aa);aT.addRaw("pp_max",M);aT.addRaw("pp_miy",I);aT.addRaw("pp_may",z);W();var aR=B(aT,"pagePing");F(aR,ab)}function az(aS,aR){var aU=ax();aU.add("e",aR);aU.add("t_url",aH(aS));var aT=B(aU,"link");F(aT,ab)}function aF(aS,aR){if(aS!==""){return aS+aR.charAt(0).toUpperCase()+aR.slice(1)}return aR}function x(aW){var aV,aR,aU=["","webkit","ms","moz"],aT;if(!G){for(aR=0;aR<aU.length;aR++){aT=aU[aR];if(Object.prototype.hasOwnProperty.call(SnowPlow.documentAlias,aF(aT,"hidden"))){if(SnowPlow.documentAlias[aF(aT,"visibilityState")]==="prerender"){aV=true}break}}}if(aV){SnowPlow.addEventListener(SnowPlow.documentAlias,aT+"visibilitychange",function aS(){SnowPlow.documentAlias.removeEventListener(aT+"visibilitychange",aS,false);aW()});return}aW()}function u(aT,aS){var aU,aR="(^| )(piwik[_-]"+aS;
if(aT){for(aU=0;aU<aT.length;aU++){aR+="|"+aT[aU]}}aR+=")( |$)";return new RegExp(aR)}function ay(aU,aR,aV){if(!aV){return"lnk"}var aT=u(T,"download"),aS=u(q,"link"),aW=new RegExp("\\.("+C+")([?&#]|$)","i");return aS.test(aU)?"lnk":(aT.test(aU)||aW.test(aR)?"dl":0)}function ao(aW){var aU,aS,aR;while((aU=aW.parentNode)!==null&&SnowPlow.isDefined(aU)&&((aS=aW.tagName.toUpperCase())!=="A"&&aS!=="AREA")){aW=aU}if(SnowPlow.isDefined(aW.href)){var aX=aW.hostname||SnowPlow.getHostName(aW.href),aY=aX.toLowerCase(),aT=aW.href.replace(aX,aY),aV=new RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):","i");if(!aV.test(aT)){aR=ay(aW.className,aT,ad(aY));if(aR){aT=SnowPlow.decodeUrl(aT);az(aT,aR)}}}}function aN(aR){var aS,aT;aR=aR||SnowPlow.windowAlias.event;aS=aR.which||aR.button;aT=aR.target||aR.srcElement;if(aR.type==="click"){if(aT){ao(aT)}}else{if(aR.type==="mousedown"){if((aS===1||aS===2)&&aT){V=aS;k=aT}else{V=k=null}}else{if(aR.type==="mouseup"){if(aS===V&&aT===k){ao(aT)
}V=k=null}}}}function am(aS,aR){if(aR){SnowPlow.addEventListener(aS,"mouseup",aN,false);SnowPlow.addEventListener(aS,"mousedown",aN,false)}else{SnowPlow.addEventListener(aS,"click",aN,false)}}function R(aS){if(!al){al=true;var aT,aR=u(f,"ignore"),aU=SnowPlow.documentAlias.links;if(aU){for(aT=0;aT<aU.length;aT++){if(!aR.test(aU[aT].className)){am(aU[aT],aS)}}}}}function ah(){var aU=[navigator.userAgent,[screen.height,screen.width,screen.colorDepth].join("x"),(new Date()).getTimezoneOffset(),SnowPlow.hasSessionStorage(),SnowPlow.hasLocalStorage(),];var aR=[];if(navigator.plugins){for(var aV=0;aV<navigator.plugins.length;aV++){var aS=[];for(var aT=0;aT<navigator.plugins[aV].length;aT++){aS.push([navigator.plugins[aV][aT].type,navigator.plugins[aV][aT].suffixes])}aR.push([navigator.plugins[aV].name+"::"+navigator.plugins[aV].description,aS.join("~")])}}return SnowPlow.murmurhash3_32_gc(aU.join("###")+"###"+aR.sort().join(";"),123412414)}function i(){var aR=jstz.determine();return(typeof(aR)==="undefined")?"":aR.name()
}function y(){var aS=SnowPlow.windowAlias,aR="inner";if(!("innerWidth" in SnowPlow.windowAlias)){aR="client";aS=SnowPlow.documentAlias.documentElement||SnowPlow.documentAlias.body}return aS[aR+"Width"]+"x"+aS[aR+"Height"]}function p(){var aT=SnowPlow.documentAlias.documentElement;var aR=Math.max(aT.clientWidth,aT.offsetWidth,aT.scrollWidth);var aS=Math.max(aT.clientHeight,aT.offsetHeight,aT.scrollHeight);return aR+"x"+aS}function aI(){var aR,aT,aU={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"},aS={};if(SnowPlow.navigatorAlias.mimeTypes&&SnowPlow.navigatorAlias.mimeTypes.length){for(aR in aU){if(Object.prototype.hasOwnProperty.call(aU,aR)){aT=SnowPlow.navigatorAlias.mimeTypes[aU[aR]];aS[aR]=(aT&&aT.enabledPlugin)?"1":"0"}}}if(typeof navigator.javaEnabled!=="unknown"&&SnowPlow.isDefined(SnowPlow.navigatorAlias.javaEnabled)&&SnowPlow.navigatorAlias.javaEnabled()){aS.java="1"
}if(SnowPlow.isFunction(SnowPlow.windowAlias.GearsFactory)){aS.gears="1"}aS.res=SnowPlow.screenAlias.width+"x"+SnowPlow.screenAlias.height;aS.cd=screen.colorDepth;aS.cookie=c();return aS}Y();return{getUserId:function(){return aQ},getDomainUserId:function(){return(aq())[1]},getDomainUserInfo:function(){return aq()},getVisitorId:function(){if(typeof console!=="undefined"){console.log("SnowPlow: getVisitorId() is deprecated and will be removed in an upcoming version. Please use getDomainUserId() instead.")}return(loadVisitorIdCookie())[1]},getVisitorInfo:function(){if(typeof console!=="undefined"){console.log("SnowPlow: getVisitorInfo() is deprecated and will be removed in an upcoming version. Please use getDomainUserInfo() instead.")}return loadVisitorIdCookie()},setSiteId:function(aR){if(typeof console!=="undefined"){console.log("SnowPlow: setSiteId() is deprecated and will be removed in an upcoming version. Please use setAppId() instead.")}aB=aR},setAppId:function(aR){aB=aR},setLinkTrackingTimer:function(aR){ab=aR
},setDownloadExtensions:function(aR){C=aR},addDownloadExtensions:function(aR){C+="|"+aR},setDomains:function(aR){ac=SnowPlow.isString(aR)?[aR]:aR;ac.push(aw)},setIgnoreClasses:function(aR){f=SnowPlow.isString(aR)?[aR]:aR},setReferrerUrl:function(aR){ag=aR},setCustomUrl:function(aR){L=av(aM,aR)},setDocumentTitle:function(aR){A=aR},setDownloadClasses:function(aR){T=SnowPlow.isString(aR)?[aR]:aR},setLinkClasses:function(aR){q=SnowPlow.isString(aR)?[aR]:aR},discardHashTag:function(aR){h=aR},setCookieNamePrefix:function(aR){aK=aR},setCookieDomain:function(aR){j=SnowPlow.fixupDomain(aR);Y()},setCookiePath:function(aR){aL=aR;Y()},setVisitorCookieTimeout:function(aR){n=aR*1000},setSessionCookieTimeout:function(aR){o=aR*1000},setReferralCookieTimeout:function(aR){O=aR*1000},setDoNotTrack:function(aS){var aR=SnowPlow.navigatorAlias.doNotTrack||SnowPlow.navigatorAlias.msDoNotTrack;aG=aS&&(aR==="yes"||aR==="1")},addListener:function(aS,aR){am(aS,aR)},enableLinkTracking:function(aR){if(SnowPlow.hasLoaded){R(aR)
}else{SnowPlow.registeredOnLoadHandlers.push(function(){R(aR)})}},enableActivityTracking:function(aT,aS){var aR=new Date();g=aR.getTime()+aT*1000;s=aS*1000},killFrame:function(){if(SnowPlow.windowAlias.location!==SnowPlow.windowAlias.top.location){SnowPlow.windowAlias.top.location=SnowPlow.windowAlias.location}},redirectFile:function(aR){if(SnowPlow.windowAlias.location.protocol==="file:"){SnowPlow.windowAlias.location=aR}},setCountPreRendered:function(aR){G=aR},trackLink:function(aS,aR){x(function(){az(aS,aR)})},trackPageView:function(aR){x(function(){S(aR)})},setUserId:function(aR){aQ=aR},attachUserId:function(aR){if(typeof console!=="undefined"){console.log("SnowPlow: attachUserId() is deprecated and will be removed in an upcoming version. It no longer does anything (because nuid and duid have been separated out).")}},setCollectorCf:function(aR){d=E(aR)},setCollectorUrl:function(aR){d=au(aR)},encodeBase64:function(aR){v=aR},trackEvent:function(aS,aV,aR,aU,aT){if(typeof console!=="undefined"){console.log("SnowPlow: trackEvent() is deprecated and will be removed in an upcoming version. Please use trackStructEvent() instead.")
}w(aS,aV,aR,aU,aT)},trackStructEvent:function(aS,aV,aR,aU,aT){w(aS,aV,aR,aU,aT)},trackUnstructEvent:function(aR,aS){X(aR,aS)},trackImpression:function(aU,aR,aT,aS){aj(aU,aR,aT,aS)},addTrans:function(aR,aU,aV,aT,aS,aY,aW,aX){e.transaction={orderId:aR,affiliation:aU,total:aV,tax:aT,shipping:aS,city:aY,state:aW,country:aX}},addItem:function(aR,aW,aS,aU,aT,aV){e.items.push({orderId:aR,sku:aW,name:aS,category:aU,price:aT,quantity:aV})},trackTrans:function(){an(e.transaction.orderId,e.transaction.affiliation,e.transaction.total,e.transaction.tax,e.transaction.shipping,e.transaction.city,e.transaction.state,e.transaction.country);for(var aR=0;aR<e.items.length;aR++){var aS=e.items[aR];N(aS.orderId,aS.sku,aS.name,aS.category,aS.price,aS.quantity)}e=at()}}};SnowPlow.build=function(){function b(){var g,j,h;for(g=0;g<arguments.length;g+=1){h=arguments[g];j=h.shift();if(SnowPlow.isString(j)){SnowPlow.asyncTracker[j].apply(SnowPlow.asyncTracker,h)}else{j.apply(SnowPlow.asyncTracker,h)}}}function f(){var g;
SnowPlow.executePluginMethod("unload");if(SnowPlow.expireDateTime){do{g=new Date()}while(g.getTimeAlias()<SnowPlow.expireDateTime)}}function d(){var g;if(!SnowPlow.hasLoaded){SnowPlow.hasLoaded=true;SnowPlow.executePluginMethod("load");for(g=0;g<SnowPlow.registeredOnLoadHandlers.length;g++){SnowPlow.registeredOnLoadHandlers[g]()}}return true}function e(){var h;if(SnowPlow.documentAlias.addEventListener){SnowPlow.addEventListener(SnowPlow.documentAlias,"DOMContentLoaded",function g(){SnowPlow.documentAlias.removeEventListener("DOMContentLoaded",g,false);d()})}else{if(SnowPlow.documentAlias.attachEvent){SnowPlow.documentAlias.attachEvent("onreadystatechange",function g(){if(SnowPlow.documentAlias.readyState==="complete"){SnowPlow.documentAlias.detachEvent("onreadystatechange",g);d()}});if(SnowPlow.documentAlias.documentElement.doScroll&&SnowPlow.windowAlias===SnowPlow.windowAlias.top){(function g(){if(!SnowPlow.hasLoaded){try{SnowPlow.documentAlias.documentElement.doScroll("left")}catch(i){setTimeout(g,0);
return}d()}}())}}}if((new RegExp("WebKit")).test(SnowPlow.navigatorAlias.userAgent)){h=setInterval(function(){if(SnowPlow.hasLoaded||/loaded|complete/.test(SnowPlow.documentAlias.readyState)){clearInterval(h);d()}},10)}SnowPlow.addEventListener(SnowPlow.windowAlias,"load",d,false)}function a(){return{push:b}}SnowPlow.addEventListener(SnowPlow.windowAlias,"beforeunload",f,false);e();Date.prototype.getTimeAlias=Date.prototype.getTime;SnowPlow.asyncTracker=new SnowPlow.Tracker();for(var c=0;c<_snaq.length;c++){b(_snaq[c])}_snaq=new a();return{addPlugin:function(g,h){SnowPlow.plugins[g]=h},getTrackerCf:function(g){return new SnowPlow.Tracker({cf:g})},getTrackerUrl:function(g){return new SnowPlow.Tracker({url:g})},getAsyncTracker:function(){return SnowPlow.asyncTracker}}};(function(){var a=SnowPlow.build();for(prop in a){if(a.hasOwnProperty(prop)){if(SnowPlow[prop]===undefined){SnowPlow[prop]=a[prop]}}}}());