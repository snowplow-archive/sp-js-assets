/*! * Snowplow - The world's most powerful web analytics platform
 *
 * @description JavaScript tracker for Snowplow
 * @version     2.1.2
 * @author      Alex Dean, Simon Andersson, Anthon Pang, Fred Blundun
 * @copyright   Anthon Pang, Snowplow Analytics Ltd
 * @license     Simplified BSD
 */
(function e(b,g,d){function c(l,i){if(!g[l]){if(!b[l]){var h=typeof require=="function"&&require;if(!i&&h){return h(l,!0)}if(a){return a(l,!0)}throw new Error("Cannot find module '"+l+"'")}var j=g[l]={exports:{}};b[l][0].call(j.exports,function(m){var o=b[l][1][m];return c(o?o:m)},j,j.exports,e,b,g,d)}return g[l].exports}var a=typeof require=="function"&&require;for(var f=0;f<d.length;f++){c(d[f])}return c})({1:[function(require,module,exports){var JSON;if(!JSON){JSON={}}(function(){var global=Function("return this")(),JSON=global.JSON;if(!JSON){JSON={}}function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null
};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";
case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space
}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}global.JSON=JSON;module.exports=JSON
}())},{}],2:[function(b,c,a){this.cookie=function(f,h,d,j,g,i){if(arguments.length>1){return document.cookie=f+"="+escape(h)+(d?"; expires="+new Date(+new Date()+(d*1000)).toUTCString():"")+(j?"; path="+j:"")+(g?"; domain="+g:"")+(i?"; secure":"")}return unescape((("; "+document.cookie).split("; "+f+"=")[1]||"").split(";")[0])}},{}],3:[function(b,c,a){(function(d){var f=(function(){var h="s",i=function(q){var r=-q.getTimezoneOffset();return(r!==null?r:0)},m=function(r,s,q){var t=new Date();if(r!==undefined){t.setFullYear(r)}t.setMonth(s);t.setDate(q);return t},j=function(q){return i(m(q,0,2))},n=function(q){return i(m(q,5,2))},g=function(r){var s=r.getMonth()>7,v=s?n(r.getFullYear()):j(r.getFullYear()),q=i(r),u=v<0,t=v-q;if(!u&&!s){return t<0}return t!==0},l=function(){var q=j(),r=n(),s=q-r;if(s<0){return q+",1"}else{if(s>0){return r+",1,"+h}}return q+",0"},o=function(){var q=l();return new f.TimeZone(f.olson.timezones[q])},p=function(q){var r=new Date(2010,6,15,1,0,0,0),s={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Europe/Helsinki":new Date(2013,2,31,5,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":r,"Asia/Amman":new Date(2013,2,29,1,0,0,0),"Asia/Beirut":new Date(2013,2,31,2,0,0,0),"Asia/Damascus":new Date(2013,3,6,2,0,0,0),"Asia/Jerusalem":new Date(2013,2,29,5,0,0,0),"Asia/Yekaterinburg":r,"Asia/Omsk":r,"Asia/Krasnoyarsk":r,"Asia/Irkutsk":r,"Asia/Yakutsk":r,"Asia/Vladivostok":r,"Asia/Baku":new Date(2013,2,31,4,0,0),"Asia/Yerevan":new Date(2013,2,31,3,0,0),"Asia/Kamchatka":r,"Asia/Gaza":new Date(2010,2,27,4,0,0),"Africa/Cairo":new Date(2010,4,1,3,0,0),"Europe/Minsk":r,"Pacific/Apia":new Date(2010,10,1,1,0,0,0),"Pacific/Fiji":new Date(2010,11,1,0,0,0),"Australia/Perth":new Date(2008,10,1,1,0,0,0)};
return s[q]};return{determine:o,date_is_dst:g,dst_start_for:p}}());f.TimeZone=function(g){var h={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Asia/Beirut","Europe/Helsinki","Asia/Damascus"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk"],"Asia/Baku":["Asia/Yerevan","Asia/Baku"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]},i=g,l=function(){var m=h[i],o=m.length,n=0,p=m[0];
for(;n<o;n+=1){p=m[n];if(f.date_is_dst(f.dst_start_for(p))){i=p;return}}},j=function(){return typeof(h[i])!=="undefined"};if(j()){l()}return{name:function(){return i}}};f.olson={};f.olson.timezones={"-720,0":"Pacific/Majuro","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"};
if(typeof a!=="undefined"){a.jstz=f}else{d.jstz=f}})(this)},{}],4:[function(b,c,a){(function(){var i=this;function g(q,m){var j=q.length,p=m^j,o=0,n;while(j>=4){n=((q.charCodeAt(o)&255))|((q.charCodeAt(++o)&255)<<8)|((q.charCodeAt(++o)&255)<<16)|((q.charCodeAt(++o)&255)<<24);n=(((n&65535)*1540483477)+((((n>>>16)*1540483477)&65535)<<16));n^=n>>>24;n=(((n&65535)*1540483477)+((((n>>>16)*1540483477)&65535)<<16));p=(((p&65535)*1540483477)+((((p>>>16)*1540483477)&65535)<<16))^n;j-=4;++o}switch(j){case 3:p^=(q.charCodeAt(o+2)&255)<<16;case 2:p^=(q.charCodeAt(o+1)&255)<<8;case 1:p^=(q.charCodeAt(o)&255);p=(((p&65535)*1540483477)+((((p>>>16)*1540483477)&65535)<<16))}p^=p>>>13;p=(((p&65535)*1540483477)+((((p>>>16)*1540483477)&65535)<<16));p^=p>>>15;return p>>>0}function f(t,p){var u,v,r,l,o,j,m,s,q,n;u=t.length&3;v=t.length-u;r=p;o=3432918353;m=461845907;n=0;while(n<v){q=((t.charCodeAt(n)&255))|((t.charCodeAt(++n)&255)<<8)|((t.charCodeAt(++n)&255)<<16)|((t.charCodeAt(++n)&255)<<24);++n;q=((((q&65535)*o)+((((q>>>16)*o)&65535)<<16)))&4294967295;
q=(q<<15)|(q>>>17);q=((((q&65535)*m)+((((q>>>16)*m)&65535)<<16)))&4294967295;r^=q;r=(r<<13)|(r>>>19);l=((((r&65535)*5)+((((r>>>16)*5)&65535)<<16)))&4294967295;r=(((l&65535)+27492)+((((l>>>16)+58964)&65535)<<16))}q=0;switch(u){case 3:q^=(t.charCodeAt(n+2)&255)<<16;case 2:q^=(t.charCodeAt(n+1)&255)<<8;case 1:q^=(t.charCodeAt(n)&255);q=(((q&65535)*o)+((((q>>>16)*o)&65535)<<16))&4294967295;q=(q<<15)|(q>>>17);q=(((q&65535)*m)+((((q>>>16)*m)&65535)<<16))&4294967295;r^=q}r^=t.length;r^=r>>>16;r=(((r&65535)*2246822507)+((((r>>>16)*2246822507)&65535)<<16))&4294967295;r^=r>>>13;r=((((r&65535)*3266489909)+((((r>>>16)*3266489909)&65535)<<16)))&4294967295;r^=r>>>16;return r>>>0}var d=f;d.v2=g;d.v3=f;if(typeof(c)!="undefined"){c.exports=d}else{var h=i.murmur;d.noConflict=function(){i.murmur=h;return d};i.murmur=d}}())},{}],5:[function(c,d,b){var a={utf8:{stringToBytes:function(f){return a.bin.stringToBytes(unescape(encodeURIComponent(f)))},bytesToString:function(f){return decodeURIComponent(escape(a.bin.bytesToString(f)))
}},bin:{stringToBytes:function(h){for(var f=[],g=0;g<h.length;g++){f.push(h.charCodeAt(g)&255)}return f},bytesToString:function(f){for(var h=[],g=0;g<f.length;g++){h.push(String.fromCharCode(f[g]))}return h.join("")}}};d.exports=a},{}],6:[function(b,c,a){(function(){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f={rotl:function(h,g){return(h<<g)|(h>>>(32-g))},rotr:function(h,g){return(h<<(32-g))|(h>>>g)},endian:function(h){if(h.constructor==Number){return f.rotl(h,8)&16711935|f.rotl(h,24)&4278255360}for(var g=0;g<h.length;g++){h[g]=f.endian(h[g])}return h},randomBytes:function(h){for(var g=[];h>0;h--){g.push(Math.floor(Math.random()*256))}return g},bytesToWords:function(h){for(var l=[],j=0,g=0;j<h.length;j++,g+=8){l[g>>>5]|=h[j]<<(24-g%32)}return l},wordsToBytes:function(i){for(var h=[],g=0;g<i.length*32;g+=8){h.push((i[g>>>5]>>>(24-g%32))&255)}return h},bytesToHex:function(g){for(var j=[],h=0;h<g.length;h++){j.push((g[h]>>>4).toString(16));j.push((g[h]&15).toString(16))
}return j.join("")},hexToBytes:function(h){for(var g=[],i=0;i<h.length;i+=2){g.push(parseInt(h.substr(i,2),16))}return g},bytesToBase64:function(h){for(var g=[],m=0;m<h.length;m+=3){var n=(h[m]<<16)|(h[m+1]<<8)|h[m+2];for(var l=0;l<4;l++){if(m*8+l*6<=h.length*8){g.push(d.charAt((n>>>6*(3-l))&63))}else{g.push("=")}}}return g.join("")},base64ToBytes:function(h){h=h.replace(/[^A-Z0-9+\/]/ig,"");for(var g=[],j=0,l=0;j<h.length;l=++j%4){if(l==0){continue}g.push(((d.indexOf(h.charAt(j-1))&(Math.pow(2,-2*l+8)-1))<<(l*2))|(d.indexOf(h.charAt(j))>>>(6-l*2)))}return g}};c.exports=f})()},{}],7:[function(b,c,a){(function(){var h=b("crypt"),d=b("charenc").utf8,f=b("charenc").bin,i=function(r){if(r.constructor==String){r=d.stringToBytes(r)}var z=h.bytesToWords(r),A=r.length*8,s=[],v=1732584193,u=-271733879,q=-1732584194,p=271733878,o=-1009589776;z[A>>5]|=128<<(24-A%32);z[((A+64>>>9)<<4)+15]=A;for(var C=0;C<z.length;C+=16){var H=v,G=u,F=q,E=p,D=o;for(var B=0;B<80;B++){if(B<16){s[B]=z[C+B]}else{var y=s[B-3]^s[B-8]^s[B-14]^s[B-16];
s[B]=(y<<1)|(y>>>31)}var x=((v<<5)|(v>>>27))+o+(s[B]>>>0)+(B<20?(u&q|~u&p)+1518500249:B<40?(u^q^p)+1859775393:B<60?(u&q|u&p|q&p)-1894007588:(u^q^p)-899497514);o=p;p=q;q=(u<<30)|(u>>>2);u=v;v=x}v+=H;u+=G;q+=F;p+=E;o+=D}return[v,u,q,p,o]},g=function(m,j){var l=h.wordsToBytes(i(m));return j&&j.asBytes?l:j&&j.asString?f.bytesToString(l):h.bytesToHex(l)};g._blocksize=16;g._digestsize=20;c.exports=g})()},{charenc:5,crypt:6}],8:[function(b,c,a){c.exports=b("./lib/core")},{"./lib/core":10}],9:[function(b,c,a){(function(){var d=typeof a!=="undefined"?a:this;function f(q){var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var l,j,h,v,u,t,s,w,p=0,x=0,o="",n=[];if(!q){return q}q=unescape(encodeURIComponent(q));do{l=q.charCodeAt(p++);j=q.charCodeAt(p++);h=q.charCodeAt(p++);w=l<<16|j<<8|h;v=w>>18&63;u=w>>12&63;t=w>>6&63;s=w&63;n[x++]=m.charAt(v)+m.charAt(u)+m.charAt(t)+m.charAt(s)}while(p<q.length);o=n.join("");var g=q.length%3;return(g?o.slice(0,g-3):o)+"===".slice(g||3)}d.base64encode=f
}())},{}],10:[function(b,c,a){var g=b("./payload.js");var d=b("uuid");function f(j,p){if(typeof j==="undefined"){j=true}var h={};function m(q,r){h[q]=r}function l(s,t){var r={};t=t||{};for(var q in s){if(t[q]||(s[q]!==null&&typeof s[q]!=="undefined")){r[q]=s[q]}}return r}function n(q){if(q&&q.length){return{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:q}}}function i(s,r,q){s.addDict(h);s.add("eid",d.v4());s.add("dtm",q||new Date().getTime());if(r){s.addJson("cx","co",n(r))}if(typeof p==="function"){p(s)}return s}function o(s,r,q){var u=g.payloadBuilder(j);var t={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:s};u.add("e","ue");u.addJson("ue_px","ue_pr",t);return i(u,r,q)}return{setBase64Encoding:function(q){j=q},addPayloadPair:m,addPayloadDict:function(r){for(var q in r){if(r.hasOwnProperty(q)){h[q]=r[q]}}},resetPayloadPairs:function(q){h=g.isJson(q)?q:{}},setTrackerVersion:function(q){m("tv",q)},setTrackerNamespace:function(q){m("tna",q)
},setAppId:function(q){m("aid",q)},setPlatform:function(q){m("p",q)},setUserId:function(q){m("uid",q)},setScreenResolution:function(r,q){m("res",r+"x"+q)},setViewport:function(r,q){m("vp",r+"x"+q)},setColorDepth:function(q){m("cd",q)},setTimezone:function(q){m("tz",q)},setLang:function(q){m("lang",q)},setIpAddress:function(q){m("ip",q)},trackUnstructEvent:o,trackPageView:function(u,t,s,r,q){var v=g.payloadBuilder(j);v.add("e","pv");v.add("url",u);v.add("page",t);v.add("refr",s);return i(v,r,q)},trackPagePing:function(s,t,x,y,u,r,z,q,v){var w=g.payloadBuilder(j);w.add("e","pp");w.add("url",s);w.add("page",t);w.add("refr",x);w.add("pp_mix",y);w.add("pp_max",u);w.add("pp_miy",r);w.add("pp_may",z);return i(w,q,v)},trackStructEvent:function(t,w,r,v,u,s,q){var x=g.payloadBuilder(j);x.add("e","se");x.add("se_ca",t);x.add("se_ac",w);x.add("se_la",r);x.add("se_pr",v);x.add("se_va",u);return i(x,s,q)},trackEcommerceTransaction:function(x,w,u,t,q,y,r,v,A,s,z){var B=g.payloadBuilder(j);B.add("e","tr");
B.add("tr_id",x);B.add("tr_af",w);B.add("tr_tt",u);B.add("tr_tx",t);B.add("tr_sh",q);B.add("tr_ci",y);B.add("tr_st",r);B.add("tr_co",v);B.add("tr_cu",A);return i(B,s,z)},trackEcommerceTransactionItem:function(t,x,q,r,v,u,y,s,w){var z=g.payloadBuilder(j);z.add("e","ti");z.add("ti_id",t);z.add("ti_sk",x);z.add("ti_nm",q);z.add("ti_ca",r);z.add("ti_pr",v);z.add("ti_qu",u);z.add("ti_cu",y);return i(z,s,w)},trackScreenView:function(r,t,s,q){return o({schema:"iglu:com.snowplowanalytics.snowplow/screen_view/jsonschema/1-0-0",data:l({name:r,id:t})},s,q)},trackLinkClick:function(x,s,u,r,w,v,q){var t={schema:"iglu:com.snowplowanalytics.snowplow/link_click/jsonschema/1-0-1",data:l({targetUrl:x,elementId:s,elementClasses:u,elementTarget:r,elementContent:w})};return o(t,v,q)},trackAdImpression:function(u,q,s,t,A,v,w,z,r,y){var x={schema:"iglu:com.snowplowanalytics.snowplow/ad_impression/jsonschema/1-0-0",data:l({impressionId:u,costModel:q,cost:s,targetUrl:t,bannerId:A,zoneId:v,advertiserId:w,campaignId:z})};
return o(x,r,y)},trackAdClick:function(s,y,q,t,B,v,u,w,A,r,z){var x={schema:"iglu:com.snowplowanalytics.snowplow/ad_click/jsonschema/1-0-0",data:l({targetUrl:s,clickId:y,costModel:q,cost:t,bannerId:B,zoneId:v,impressionId:u,advertiserId:w,campaignId:A})};return o(x,r,z)},trackAdConversion:function(B,q,t,s,v,z,A,u,y,r,x){var w={schema:"iglu:com.snowplowanalytics.snowplow/ad_conversion/jsonschema/1-0-0",data:l({conversionId:B,costModel:q,cost:t,category:s,action:v,property:z,initialValue:A,advertiserId:u,campaignId:y})};return o(w,r,x)},trackSocialInteraction:function(u,t,v,s,q){var r={schema:"iglu:com.snowplowanalytics.snowplow/social_interaction/jsonschema/1-0-0",data:l({action:u,network:t,target:v})};return o(r,s,q)},trackAddToCart:function(x,s,u,v,w,r,t,q){return o({schema:"iglu:com.snowplowanalytics.snowplow/add_to_cart/jsonschema/1-0-0",data:l({sku:x,name:s,category:u,unitPrice:v,quantity:w,currency:r})},t,q)},trackRemoveFromCart:function(x,s,u,v,w,r,t,q){return o({schema:"iglu:com.snowplowanalytics.snowplow/remove_from_cart/jsonschema/1-0-0",data:l({sku:x,name:s,category:u,unitPrice:v,quantity:w,currency:r})},t,q)
},trackFormChange:function(w,r,x,u,s,v,t,q){return o({schema:"iglu:com.snowplowanalytics.snowplow/change_form/jsonschema/1-0-0",data:l({formId:w,elementId:r,nodeName:x,type:u,elementClasses:s,value:v},{value:true})},t,q)},trackFormSubmission:function(u,s,t,r,q){return o({schema:"iglu:com.snowplowanalytics.snowplow/submit_form/jsonschema/1-0-0",data:l({formId:u,formClasses:s,elements:t})},r,q)},trackSiteSearch:function(v,u,r,s,t,q){return o({schema:"iglu:com.snowplowanalytics.snowplow/site_search/jsonschema/1-0-0",data:l({terms:v,filters:u,totalResults:r,pageResults:s})},t,q)}}}c.exports=f},{"./payload.js":11,uuid:14}],11:[function(b,c,a){(function(){var h=b("JSON"),d=b("./base64"),g=typeof a!=="undefined"?a:this;function f(j){if(!j){return j}var i=d.base64encode(j);return i.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}g.isJson=function(i){return(typeof i!=="undefined"&&i!==null&&(i.constructor==={}.constructor||i.constructor===[].constructor))};g.isNonEmptyJson=function(j){if(!g.isJson(j)){return false
}for(var i in j){if(j.hasOwnProperty(i)){return true}}return false};g.payloadBuilder=function(j){var n={};var m=function(o,p){if(p!==undefined&&p!==null&&p!==""){n[o]=p}};var i=function(p){for(var o in p){if(p.hasOwnProperty(o)){m(o,p[o])}}};var l=function(o,p,q){if(g.isNonEmptyJson(q)){var r=h.stringify(q);if(j){m(o,f(r))}else{m(p,r)}}};return{add:m,addDict:i,addJson:l,build:function(){return n}}}}())},{"./base64":9,JSON:1}],12:[function(b,c,a){c.exports=Array},{}],13:[function(b,c,a){(function(i){var f;if(i.crypto&&crypto.getRandomValues){var d=new Uint8Array(16);f=function g(){crypto.getRandomValues(d);return d}}if(!f){var h=new Array(16);f=function(){for(var j=0,l;j<16;j++){if((j&3)===0){l=Math.random()*4294967296}h[j]=l>>>((j&3)<<3)&255}return h}}c.exports=f}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],14:[function(j,c,u){var l=j("./rng");var o=j("./buffer");var g=[];var h={};for(var r=0;r<256;r++){g[r]=(r+256).toString(16).substr(1);h[g[r]]=r
}function n(y,v,z){var w=(v&&z)||0,x=0;v=v||[];y.toLowerCase().replace(/[0-9a-f]{2}/g,function(i){if(x<16){v[w+x++]=h[i]}});while(x<16){v[w+x++]=0}return v}function m(v,x){var w=x||0,y=g;return y[v[w++]]+y[v[w++]]+y[v[w++]]+y[v[w++]]+"-"+y[v[w++]]+y[v[w++]]+"-"+y[v[w++]]+y[v[w++]]+"-"+y[v[w++]]+y[v[w++]]+"-"+y[v[w++]]+y[v[w++]]+y[v[w++]]+y[v[w++]]+y[v[w++]]+y[v[w++]]}var f=l();var s=[f[0]|1,f[1],f[2],f[3],f[4],f[5]];var t=(f[6]<<8|f[7])&16383;var b=0,p=0;function d(H,x,B){var C=x&&B||0;var D=x||[];H=H||{};var A=H.clockseq!==undefined?H.clockseq:t;var v=H.msecs!==undefined?H.msecs:new Date().getTime();var G=H.nsecs!==undefined?H.nsecs:p+1;var w=(v-b)+(G-p)/10000;if(w<0&&H.clockseq===undefined){A=A+1&16383}if((w<0||v>b)&&H.nsecs===undefined){G=0}if(G>=10000){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}b=v;p=G;t=A;v+=12219292800000;var F=((v&268435455)*10000+G)%4294967296;D[C++]=F>>>24&255;D[C++]=F>>>16&255;D[C++]=F>>>8&255;D[C++]=F&255;var E=(v/4294967296*10000)&268435455;
D[C++]=E>>>8&255;D[C++]=E&255;D[C++]=E>>>24&15|16;D[C++]=E>>>16&255;D[C++]=A>>>8|128;D[C++]=A&255;var z=H.node||s;for(var y=0;y<6;y++){D[C+y]=z[y]}return x?x:m(D)}function a(w,v,A){var x=v&&A||0;if(typeof(w)=="string"){v=w=="binary"?new o(16):null;w=null}w=w||{};var z=w.random||(w.rng||l)();z[6]=(z[6]&15)|64;z[8]=(z[8]&63)|128;if(v){for(var y=0;y<16;y++){v[x+y]=z[y]}}return v||m(z)}var q=a;q.v1=d;q.v4=a;q.parse=n;q.unparse=m;q.BufferClass=o;c.exports=q},{"./buffer":12,"./rng":13}],15:[function(c,d,a){var g=c("./lib_managed/lodash"),f=c("./lib/helpers"),b=typeof a!=="undefined"?a:this;b.getFormTrackingManager=function(j,m){var h=["textarea","input","select"];function o(q){return q[g.find(["name","id","type","nodeName"],function(r){return q[r]&&typeof q[r]==="string"})]}function p(q){while(q&&q.nodeName.toUpperCase()!=="HTML"&&q.nodeName.toUpperCase()!=="FORM"){q=q.parentNode}if(q.nodeName.toUpperCase()==="FORM"){return o(q)}}function n(r){var q=[];g.map(h,function(s){g.map(r.getElementsByTagName(s),function(u){if(u.type==="submit"){return
}var t={name:o(u),value:u.value,nodeName:u.nodeName};if(u.type&&u.nodeName.toUpperCase()==="INPUT"){t.type=u.type}if((u.type==="checkbox"||u.type==="radio")&&!u.checked){t.value=null}q.push(t)})});return q}function l(q){return function(u){var r=u.target;var s=r.nodeName.toUpperCase()==="INPUT"?r.type:null;var t=(r.type==="checkbox"&&!r.checked)?null:r.value;j.trackFormChange(p(r),o(r),r.nodeName,s,g.map(r.classList),t,q)}}function i(q){return function(t){var s=t.target;var r=n(s);j.trackFormSubmission(o(s),g.map(s.classList),r,q)}}return{addFormListeners:function(r){var q=m+"form";g.map(h,function(s){g.map(document.getElementsByTagName(s),function(t){if(!t[q]){f.addEventListener(t,"change",l(r),false);t[q]=true}})});g.map(document.getElementsByTagName("form"),function(s){if(!s[q]){f.addEventListener(s,"submit",i(r));s[q]=true}})}}}},{"./lib/helpers":19,"./lib_managed/lodash":21}],16:[function(b,c,a){(function(){var g=b("./lib_managed/lodash"),f=b("./lib/helpers"),d=typeof a!=="undefined"?a:this;
d.InQueueManager=function(h,q,p,m,r){var j={},n={};function t(x){var y=[];if(!x||x.length===0){y=g.map(j)}else{for(var w=0;w<x.length;w++){if(j.hasOwnProperty(x[w])){y.push(j[x[w]])}else{f.warn('Warning: Tracker namespace "'+x[w]+'" not configured')}}}if(y.length===0){f.warn("Warning: No tracker configured")}return y}function l(x,y,w){f.warn(x+" is deprecated. Set the collector when a new tracker instance using newTracker.");var i;if(g.isUndefined(w)){i="sp"}else{i=w}s(i);j[i][x](y)}function s(w,x,i){i=i||{};if((!i.writeCookies)&&(i.cookieName in n)){i.writeCookies=false}else{n[i.cookieName]=true}j[w]=new h(r,w,q,p,i);j[w].setCollectorUrl(x)}function v(y){var x=y.split(":"),i=x[0],w=(x.length>1)?x[1].split(";"):[];return[i,w]}function u(){var y,x,A,z,w,D,B,C;for(y=0;y<arguments.length;y+=1){z=arguments[y];w=Array.prototype.shift.call(z);if(g.isFunction(w)){w.apply(this,z);continue}D=v(w);A=D[0];B=D[1];if(A==="newTracker"){s(z[0],z[1],z[2]);continue}if((A==="setCollectorCf"||A==="setCollectorUrl")&&(!B||B.length===0)){l(A,z[0],z[1]);
continue}C=t(B);if(g.isString(A)){for(x=0;x<C.length;x++){C[x][A].apply(C[x],z)}}else{for(x=0;x<C.length;x++){A.apply(C[x],z)}}}}for(var o=0;o<m.length;o++){u(m[o])}return{push:u}}}())},{"./lib/helpers":19,"./lib_managed/lodash":21}],17:[function(d,f,b){var h=d("./snowplow"),g,a,c=window;if(c.GlobalSnowplowNamespace&&c.GlobalSnowplowNamespace.length>0){g=c.GlobalSnowplowNamespace.shift();a=c[g];a.q=new h.Snowplow(a.q,g)}else{c._snaq=c._snaq||[];c._snaq=new h.Snowplow(c._snaq,"_snaq")}},{"./snowplow":24}],18:[function(b,c,a){(function(){var n=b("../lib_managed/lodash"),m=b("murmurhash").v3,h=b("jstimezonedetect").jstz.determine(),f=b("browser-cookie-lite"),i=typeof a!=="undefined"?a:this,l=window,d=navigator,j=screen,g=document;i.hasSessionStorage=function(){try{return !!l.sessionStorage}catch(o){return true}};i.hasLocalStorage=function(){try{return !!l.localStorage}catch(o){return true}};i.localStorageAccessible=function(){var o="modernizr";if(!i.hasLocalStorage()){return false}try{l.localStorage.setItem(o,o);
l.localStorage.removeItem(o);return true}catch(p){return false}};i.hasCookies=function(o){var p=o||"testcookie";if(n.isUndefined(d.cookieEnabled)){f.cookie(p,"1");return f.cookie(p)==="1"?"1":"0"}return d.cookieEnabled?"1":"0"};i.detectSignature=function(t){var r=[d.userAgent,[j.height,j.width,j.colorDepth].join("x"),(new Date()).getTimezoneOffset(),i.hasSessionStorage(),i.hasLocalStorage()];var o=[];if(d.plugins){for(var s=0;s<d.plugins.length;s++){var p=[];for(var q=0;q<d.plugins[s].length;q++){p.push([d.plugins[s][q].type,d.plugins[s][q].suffixes])}o.push([d.plugins[s].name+"::"+d.plugins[s].description,p.join("~")])}}return m(r.join("###")+"###"+o.sort().join(";"),t)};i.detectTimezone=function(){return(typeof(h)==="undefined")?"":h.name()};i.detectViewport=function(){var p=l,o="inner";if(!("innerWidth" in l)){o="client";p=g.documentElement||g.body}return p[o+"Width"]+"x"+p[o+"Height"]};i.detectDocumentSize=function(){var q=g.documentElement;var o=Math.max(q.clientWidth,q.offsetWidth,q.scrollWidth);
var p=Math.max(q.clientHeight,q.offsetHeight,q.scrollHeight);return isNaN(o)||isNaN(p)?"":o+"x"+p};i.detectBrowserFeatures=function(p){var o,r,s={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"},q={};if(d.mimeTypes&&d.mimeTypes.length){for(o in s){if(Object.prototype.hasOwnProperty.call(s,o)){r=d.mimeTypes[s[o]];q[o]=(r&&r.enabledPlugin)?"1":"0"}}}if(typeof d.javaEnabled!=="unknown"&&!n.isUndefined(d.javaEnabled)&&d.javaEnabled()){q.java="1"}if(n.isFunction(l.GearsFactory)){q.gears="1"}q.res=j.width+"x"+j.height;q.cd=j.colorDepth;q.cookie=i.hasCookies(p);return q}}())},{"../lib_managed/lodash":21,"browser-cookie-lite":2,jstimezonedetect:3,murmurhash:4}],19:[function(b,c,a){(function(){var f=b("../lib_managed/lodash"),d=typeof a!=="undefined"?a:this;d.fixupTitle=function(h){if(!f.isString(h)){h=h.text||"";
var g=document.getElementsByTagName("title");if(g&&!f.isUndefined(g[0])){h=g[0].text}}return h};d.getHostName=function(g){var i=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)"),h=i.exec(g);return h?h[1]:g};d.fixupDomain=function(h){var g=h.length;if(h.charAt(--g)==="."){h=h.slice(0,g)}if(h.slice(0,2)==="*."){h=h.slice(1)}return h};d.getReferrer=function(){var h="";var g=d.fromQuerystring("referrer",window.location.href)||d.fromQuerystring("referer",window.location.href);if(g){return g}try{h=window.top.document.referrer}catch(j){if(window.parent){try{h=window.parent.document.referrer}catch(i){h=""}}}if(h===""){h=document.referrer}return h};d.addEventListener=function(j,i,h,g){if(j.addEventListener){j.addEventListener(i,h,g);return true}if(j.attachEvent){return j.attachEvent("on"+i,h)}j["on"+i]=h};d.fromQuerystring=function(i,h){var g=new RegExp("^[^#]*[?&]"+i+"=([^&#]*)").exec(h);if(!g){return null}return decodeURIComponent(g[1].replace(/\+/g," "))};d.warn=function(g){if(typeof console!=="undefined"){console.warn("Snowplow: "+g)
}}}())},{"../lib_managed/lodash":21}],20:[function(b,c,a){(function(){var g=b("./helpers"),d=typeof a!=="undefined"?a:this;function i(l){var j=new RegExp("^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$");return j.test(l)}function f(n){var l,j;if(i(n)){try{l=document.body.children[0].children[0].children[0].children[0].children[0].children[0].innerHTML;j="You have reached the cached page for";return l.slice(0,j.length)===j}catch(m){return false}}}function h(m,l){var o=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+))([?][^#]+)"),n=o.exec(m),j=g.fromQuerystring(l,n[1]);return j}d.fixupUrl=function(m,j,l){if(m==="translate.googleusercontent.com"){if(l===""){l=j}j=h(j,"u");m=g.getHostName(j)}else{if(m==="cc.bingj.com"||m==="webcache.googleusercontent.com"||f(m)){j=document.links[0].href;m=g.getHostName(j)}}return[m,j,l]}}())},{"./helpers":19}],21:[function(b,c,a){(function(d){(function(){var ag=[];
var aa={};var X=40;var ai=/\w*$/;var af=/^\s*function[ \n\r\t]+\w/;var h=/\bthis\b/;var K=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var j="[object Arguments]",H="[object Array]",am="[object Boolean]",r="[object Date]",aJ="[object Error]",u="[object Function]",ar="[object Number]",au="[object Object]",aw="[object RegExp]",R="[object String]";var W={};W[u]=false;W[j]=W[H]=W[am]=W[r]=W[ar]=W[au]=W[aw]=W[R]=true;var aG={configurable:false,enumerable:false,value:null,writable:false};var U={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:false};var al={"boolean":false,"function":true,object:true,number:false,string:false,"undefined":false};var aB=(al[typeof window]&&window)||this;var v=al[typeof a]&&a&&!a.nodeType&&a;var N=al[typeof c]&&c&&!c.nodeType&&c;var aL=N&&N.exports===v&&v;var ao=al[typeof d]&&d;if(ao&&(ao.global===ao||ao.window===ao)){aB=ao}function aN(){return ag.pop()||[]
}function S(aR){return typeof aR.toString!="function"&&typeof(aR+"")=="string"}function ax(aR){aR.length=0;if(ag.length<X){ag.push(aR)}}function z(aW,aV,aS){aV||(aV=0);if(typeof aS=="undefined"){aS=aW?aW.length:0}var aT=-1,aU=aS-aV||0,aR=Array(aU<0?0:aU);while(++aT<aU){aR[aT]=aW[aV+aT]}return aR}var n=[];var l=Error.prototype,aD=Object.prototype,Z=String.prototype;var ak=aD.toString;var q=RegExp("^"+String(ak).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");var y=Function.prototype.toString,ad=aD.hasOwnProperty,i=n.push,ac=aD.propertyIsEnumerable,aF=n.unshift;var w=(function(){try{var aU={},aS=O(aS=Object.defineProperty)&&aS,aR=aS(aU,aU,aU)&&aS}catch(aT){}return aR}());var P=O(P=Object.create)&&P,t=O(t=Array.isArray)&&t,aM=O(aM=Object.keys)&&aM;var ae={};ae[H]=Array;ae[am]=Boolean;ae[r]=Date;ae[u]=Function;ae[au]=Object;ae[ar]=Number;ae[aw]=RegExp;ae[R]=String;var at={};at[H]=at[r]=at[ar]={constructor:true,toLocaleString:true,toString:true,valueOf:true};
at[am]=at[R]={constructor:true,toString:true,valueOf:true};at[aJ]=at[u]=at[aw]={constructor:true,toString:true};at[au]={constructor:true};(function(){var aT=K.length;while(aT--){var aR=K[aT];for(var aS in at){if(ad.call(at,aS)&&!ad.call(at[aS],aR)){at[aS][aR]=false}}}}());function A(){}var aE=A.support={};(function(){var aU=function(){this.x=1},aR={"0":1,length:1},aT=[];aU.prototype={valueOf:1,y:1};for(var aS in new aU){aT.push(aS)}for(aS in arguments){}aE.argsClass=ak.call(arguments)==j;aE.argsObject=arguments.constructor==Object&&!(arguments instanceof Array);aE.enumErrorProps=ac.call(l,"message")||ac.call(l,"name");aE.enumPrototypes=ac.call(aU,"prototype");aE.funcDecomp=!O(aB.WinRTError)&&h.test(function(){return this});aE.funcNames=typeof Function.name=="string";aE.nonEnumArgs=aS!=0;aE.nonEnumShadows=!/valueOf/.test(aT);aE.spliceObjects=(n.splice.call(aR,0,1),!aR[0]);aE.unindexedChars=("x"[0]+Object("x")[0])!="xx";try{aE.nodeClass=!(ak.call(document)==au&&!({toString:0}+""))}catch(aV){aE.nodeClass=true
}}(1));var ab=function(aT){var aR="var index, iterable = "+(aT.firstArg)+", result = "+(aT.init)+";\nif (!iterable) return result;\n"+(aT.top)+";";if(aT.array){aR+="\nvar length = iterable.length; index = -1;\nif ("+(aT.array)+") {  ";if(aE.unindexedChars){aR+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "}aR+="\n  while (++index < length) {\n    "+(aT.loop)+";\n  }\n}\nelse {  "}else{if(aE.nonEnumArgs){aR+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+(aT.loop)+";\n    }\n  } else {  "}}if(aE.enumPrototypes){aR+="\n  var skipProto = typeof iterable == 'function';\n  "}if(aE.enumErrorProps){aR+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  "}var aS=[];if(aE.enumPrototypes){aS.push('!(skipProto && index == "prototype")')}if(aE.enumErrorProps){aS.push('!(skipErrorProps && (index == "message" || index == "name"))')}if(aT.useHas&&aT.keys){aR+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n";
if(aS.length){aR+="    if ("+(aS.join(" && "))+") {\n  "}aR+=(aT.loop)+";    ";if(aS.length){aR+="\n    }"}aR+="\n  }  "}else{aR+="\n  for (index in iterable) {\n";if(aT.useHas){aS.push("hasOwnProperty.call(iterable, index)")}if(aS.length){aR+="    if ("+(aS.join(" && "))+") {\n  "}aR+=(aT.loop)+";    ";if(aS.length){aR+="\n    }"}aR+="\n  }    ";if(aE.nonEnumShadows){aR+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ";for(k=0;k<7;k++){aR+="\n    index = '"+(aT.shadowedProps[k])+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))";if(!aT.useHas){aR+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"}aR+=") {\n      "+(aT.loop)+";\n    }      "}aR+="\n  }    "}}if(aT.array||aE.nonEnumArgs){aR+="\n}"
}aR+=(aT.bottom)+";\nreturn result";return aR};function G(aV){var aU=aV[0],aS=aV[2],aR=aV[4];function aT(){if(aS){var aY=z(aS);i.apply(aY,arguments)}if(this instanceof aT){var aX=s(aU.prototype),aW=aU.apply(aX,aY||arguments);return E(aW)?aW:aX}return aU.apply(aR,aY||arguments)}aK(aT,aV);return aT}function an(a0,aX,a1,aV,aT){if(a1){var a2=a1(a0);if(typeof a2!="undefined"){return a2}}var aU=E(a0);if(aU){var aY=ak.call(a0);if(!W[aY]||(!aE.nodeClass&&S(a0))){return a0}var aZ=ae[aY];switch(aY){case am:case r:return new aZ(+a0);case ar:case R:return new aZ(a0);case aw:a2=aZ(a0.source,ai.exec(a0));a2.lastIndex=a0.lastIndex;return a2}}else{return a0}var aW=f(a0);if(aX){var aS=!aV;aV||(aV=aN());aT||(aT=aN());var aR=aV.length;while(aR--){if(aV[aR]==a0){return aT[aR]}}a2=aW?aZ(a0.length):{}}else{a2=aW?z(a0):aA({},a0)}if(aW){if(ad.call(a0,"index")){a2.index=a0.index}if(ad.call(a0,"input")){a2.input=a0.input}}if(!aX){return a2}aV.push(a0);aT.push(a2);(aW?L:Y)(a0,function(a3,a4){a2[a4]=an(a3,aX,a1,aV,aT)
});if(aS){ax(aV);ax(aT)}return a2}function s(aR,aS){return E(aR)?P(aR):{}}if(!P){s=(function(){function aR(){}return function(aT){if(E(aT)){aR.prototype=aT;var aS=new aR;aR.prototype=null}return aS||aB.Object()}}())}function aQ(aS,aR,aV){if(typeof aS!="function"){return T}if(typeof aR=="undefined"||!("prototype" in aS)){return aS}var aU=aS.__bindData__;if(typeof aU=="undefined"){if(aE.funcNames){aU=!aS.name}aU=aU||!aE.funcDecomp;if(!aU){var aT=y.call(aS);if(!aE.funcNames){aU=!af.test(aT)}if(!aU){aU=h.test(aT);aK(aS,aU)}}}if(aU===false||(aU!==true&&aU[1]&1)){return aS}switch(aV){case 1:return function(aW){return aS.call(aR,aW)};case 2:return function(aX,aW){return aS.call(aR,aX,aW)};case 3:return function(aX,aW,aY){return aS.call(aR,aX,aW,aY)};case 4:return function(aW,aY,aX,aZ){return aS.call(aR,aW,aY,aX,aZ)}}return aC(aS,aR)}function Q(aU){var aW=aU[0],aT=aU[1],aY=aU[2],aS=aU[3],a1=aU[4],aR=aU[5];var aV=aT&1,a3=aT&2,a0=aT&4,aZ=aT&8,a2=aW;function aX(){var a5=aV?a1:this;if(aY){var a6=z(aY);
i.apply(a6,arguments)}if(aS||a0){a6||(a6=z(arguments));if(aS){i.apply(a6,aS)}if(a0&&a6.length<aR){aT|=16&~32;return Q([aW,(aZ?aT:aT&~3),a6,null,a1,aR])}}a6||(a6=arguments);if(a3){aW=a5[a2]}if(this instanceof aX){a5=s(aW.prototype);var a4=aW.apply(a5,a6);return E(a4)?a4:a5}return aW.apply(a5,a6)}aK(aX,aU);return aX}function az(a9,a8,aY,a5,bb,ba){if(aY){var a3=aY(a9,a8);if(typeof a3!="undefined"){return !!a3}}if(a9===a8){return a9!==0||(1/a9==1/a8)}var aX=typeof a9,aV=typeof a8;if(a9===a9&&!(a9&&al[aX])&&!(a8&&al[aV])){return false}if(a9==null||a8==null){return a9===a8}var aS=ak.call(a9),a1=ak.call(a8);if(aS==j){aS=au}if(a1==j){a1=au}if(aS!=a1){return false}switch(aS){case am:case r:return +a9==+a8;case ar:return(a9!=+a9)?a8!=+a8:(a9==0?(1/a9==1/a8):a9==+a8);case aw:case R:return a9==String(a8)}var aZ=aS==H;if(!aZ){var a4=ad.call(a9,"__wrapped__"),aR=ad.call(a8,"__wrapped__");if(a4||aR){return az(a4?a9.__wrapped__:a9,aR?a8.__wrapped__:a8,aY,a5,bb,ba)}if(aS!=au||(!aE.nodeClass&&(S(a9)||S(a8)))){return false
}var aW=!aE.argsObject&&g(a9)?Object:a9.constructor,aT=!aE.argsObject&&g(a8)?Object:a8.constructor;if(aW!=aT&&!(ay(aW)&&aW instanceof aW&&ay(aT)&&aT instanceof aT)&&("constructor" in a9&&"constructor" in a8)){return false}}var a2=!bb;bb||(bb=aN());ba||(ba=aN());var aU=bb.length;while(aU--){if(bb[aU]==a9){return ba[aU]==a8}}var a6=0;a3=true;bb.push(a9);ba.push(a8);if(aZ){aU=a9.length;a6=a8.length;a3=a6==aU;if(a3||a5){while(a6--){var a0=aU,a7=a8[a6];if(a5){while(a0--){if((a3=az(a9[a0],a7,aY,a5,bb,ba))){break}}}else{if(!(a3=az(a9[a6],a7,aY,a5,bb,ba))){break}}}}}else{ah(a8,function(be,bd,bc){if(ad.call(bc,bd)){a6++;return(a3=ad.call(a9,bd)&&az(a9[bd],be,aY,a5,bb,ba))}});if(a3&&!a5){ah(a9,function(be,bd,bc){if(ad.call(bc,bd)){return(a3=--a6>-1)}})}}bb.pop();ba.pop();if(a2){ax(bb);ax(ba)}return a3}function F(aX,aU,aY,aT,a3,aR){var aW=aU&1,a4=aU&2,a1=aU&4,a0=aU&8,aS=aU&16,aZ=aU&32;if(!a4&&!ay(aX)){throw new TypeError}if(aS&&!aY.length){aU&=~16;aS=aY=false}if(aZ&&!aT.length){aU&=~32;aZ=aT=false
}var aV=aX&&aX.__bindData__;if(aV&&aV!==true){aV=z(aV);if(aV[2]){aV[2]=z(aV[2])}if(aV[3]){aV[3]=z(aV[3])}if(aW&&!(aV[1]&1)){aV[4]=a3}if(!aW&&aV[1]&1){aU|=8}if(a1&&!(aV[1]&4)){aV[5]=aR}if(aS){i.apply(aV[2]||(aV[2]=[]),aY)}if(aZ){aF.apply(aV[3]||(aV[3]=[]),aT)}aV[1]|=aU;return F.apply(null,aV)}var a2=(aU==1||aU===17)?G:Q;return a2([aX,aU,aY,aT,a3,aR])}function aq(){U.shadowedProps=K;U.array=U.bottom=U.loop=U.top="";U.init="iterable";U.useHas=true;for(var aU,aT=0;aU=arguments[aT];aT++){for(var aV in aU){U[aV]=aU[aV]}}var aS=U.args;U.firstArg=/^[^,]+/.exec(aS)[0];var aR=Function("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+aS+") {\n"+ab(U)+"\n}");return aR(aQ,aJ,l,ad,aa,g,f,aH,U.keys,aD,al,at,R,Z,ak)}function O(aR){return typeof aR=="function"&&q.test(aR)}var aK=!w?av:function(aR,aS){aG.value=aS;w(aR,"__bindData__",aG)};function g(aR){return aR&&typeof aR=="object"&&typeof aR.length=="number"&&ak.call(aR)==j||false
}if(!aE.argsClass){g=function(aR){return aR&&typeof aR=="object"&&typeof aR.length=="number"&&ad.call(aR,"callee")&&!ac.call(aR,"callee")||false}}var f=t||function(aR){return aR&&typeof aR=="object"&&typeof aR.length=="number"&&ak.call(aR)==H||false};var V=aq({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"});var J=!aM?V:function(aR){if(!E(aR)){return[]}if((aE.enumPrototypes&&typeof aR=="function")||(aE.nonEnumArgs&&aR.length&&g(aR))){return V(aR)}return aM(aR)};var aI={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:J,loop:"if (callback(iterable[index], index, collection) === false) return result"};var I={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:J,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"};
var aj={top:"if (!objectTypes[typeof iterable]) return result;\n"+aI.top,array:false};var L=aq(aI);var aA=aq(I,{top:I.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"});function B(aT,aS,aU,aR){if(typeof aS!="boolean"&&aS!=null){aR=aU;aU=aS;aS=false}return an(aT,aS,typeof aU=="function"&&aQ(aU,aR,1))}var ah=aq(aI,aj,{useHas:false});var Y=aq(aI,aj);function m(aR){return aR&&typeof aR=="object"&&ak.call(aR)==r||false}function p(aU){var aR=true;if(!aU){return aR}var aS=ak.call(aU),aT=aU.length;if((aS==H||aS==R||(aE.argsClass?aS==j:g(aU)))||(aS==au&&typeof aT=="number"&&ay(aU.splice))){return !aT}Y(aU,function(){return(aR=false)});return aR}function ay(aR){return typeof aR=="function"
}if(ay(/x/)){ay=function(aR){return typeof aR=="function"&&ak.call(aR)==u}}function E(aR){return !!(aR&&al[typeof aR])}function aO(aR){return aR===null}function aH(aR){return typeof aR=="string"||aR&&typeof aR=="object"&&ak.call(aR)==R||false}function M(aR){return typeof aR=="undefined"}function D(aW,aX,aS){var aR=[];aX=A.createCallback(aX,aS,3);if(f(aW)){var aT=-1,aU=aW.length;while(++aT<aU){var aV=aW[aT];if(aX(aV,aT,aW)){aR.push(aV)}}}else{L(aW,function(aZ,aY,a0){if(aX(aZ,aY,a0)){aR.push(aZ)}})}return aR}function aP(aW,aX,aS){aX=A.createCallback(aX,aS,3);if(f(aW)){var aT=-1,aU=aW.length;while(++aT<aU){var aV=aW[aT];if(aX(aV,aT,aW)){return aV}}}else{var aR;L(aW,function(aZ,aY,a0){if(aX(aZ,aY,a0)){aR=aZ;return false}});return aR}}function x(aV,aW,aS){var aT=-1,aU=aV?aV.length:0,aR=Array(typeof aU=="number"?aU:0);aW=A.createCallback(aW,aS,3);if(f(aV)){while(++aT<aU){aR[aT]=aW(aV[aT],aT,aV)}}else{L(aV,function(aY,aX,aZ){aR[++aT]=aW(aY,aX,aZ)})}return aR}function C(aV){var aS=-1,aT=aV?aV.length:0,aR=[];
while(++aS<aT){var aU=aV[aS];if(aU){aR.push(aU)}}return aR}function aC(aS,aR){return arguments.length>2?F(aS,17,z(arguments,2),null,aR):F(aS,1,null,null,aR)}function o(aW,aS,aX){var aV=typeof aW;if(aW==null||aV=="function"){return aQ(aW,aS,aX)}if(aV!="object"){return ap(aW)}var aU=J(aW),aT=aU[0],aR=aW[aT];if(aU.length==1&&aR===aR&&!E(aR)){return function(aZ){var aY=aZ[aT];return aR===aY&&(aR!==0||(1/aR==1/aY))}}return function(aZ){var a0=aU.length,aY=false;while(a0--){if(!(aY=az(aZ[aU[a0]],aW[aU[a0]],null,true))){break}}return aY}}function T(aR){return aR}function av(){}function ap(aR){return function(aS){return aS[aR]}}A.assign=aA;A.bind=aC;A.compact=C;A.createCallback=o;A.filter=D;A.forIn=ah;A.forOwn=Y;A.keys=J;A.map=x;A.property=ap;A.collect=x;A.extend=aA;A.select=D;A.clone=B;A.find=aP;A.identity=T;A.isArguments=g;A.isArray=f;A.isDate=m;A.isEmpty=p;A.isFunction=ay;A.isNull=aO;A.isObject=E;A.isString=aH;A.isUndefined=M;A.noop=av;A.detect=aP;A.findWhere=aP;A.VERSION="2.4.1";if(v&&N){if(aL){(N.exports=A)._=A
}}}.call(this))}).call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],22:[function(c,d,a){var g=c("./lib_managed/lodash"),f=c("./lib/helpers"),b=typeof a!=="undefined"?a:this;b.getLinkTrackingManager=function(p,j){var i,h,o,s,n,q;function t(w,v){var D,F,B,C,A,E;while((D=w.parentNode)!==null&&!g.isUndefined(D)&&((F=w.tagName.toUpperCase())!=="A"&&F!=="AREA")){w=D}if(!g.isUndefined(w.href)){var z=w.hostname||f.getHostName(w.href),x=z.toLowerCase(),u=w.href.replace(z,x),y=new RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):","i");if(!y.test(u)){B=w.id;C=g.map(w.classList);A=w.target;E=o?w.innerHTML:null;u=unescape(u);p.trackLinkClick(u,B,C,A,E,v)}}}function r(u){return function(v){var w,x;v=v||window.event;w=v.which||v.button;x=v.target||v.srcElement;if(v.type==="click"){if(x){t(x,u)}}else{if(v.type==="mousedown"){if((w===1||w===2)&&x){n=w;q=x}else{n=q=null}}else{if(v.type==="mouseup"){if(w===n&&x===q){t(x,u)}n=q=null}}}}}function m(u){if(h){f.addEventListener(u,"mouseup",r(s),false);
f.addEventListener(u,"mousedown",r(s),false)}else{f.addEventListener(u,"click",r(s),false)}}function l(v,x){var u=g.map(v.classList),w;for(w=0;w<u.length;w++){if(x[u[w]]){return true}}return false}return{configureLinkClickTracking:function(A,w,B,y){var z,v,u,x;o=B;s=y;h=w;if(g.isArray(A)||!g.isObject(A)){i=function(C){return true};return}if(A.hasOwnProperty("filter")){i=A.filter}else{v=(A.hasOwnProperty("whitelist"));z=A.whitelist||A.blacklist;if(!g.isArray(z)){z=[z]}u={};for(x=0;x<z.length;x++){u[z[x]]=true}i=function(C){return l(C,u)===v}}},addClickListeners:function(){var v=document.links,u;for(u=0;u<v.length;u++){if(i(v[u])&&!v[u][j]){m(v[u]);v[u][j]=true}}}}}},{"./lib/helpers":19,"./lib_managed/lodash":21}],23:[function(b,c,a){(function(){var g=b("JSON"),h=b("./lib_managed/lodash"),f=b("./lib/detectors").localStorageAccessible(),d=typeof a!=="undefined"?a:this;d.OutQueueManager=function(r,l,p){var j=["snowplowOutQueue",r,l].join("_"),m=false,i,o;if(f){try{o=g.parse(localStorage.getItem(j))
}catch(q){}}if(!h.isArray(o)){o=[]}p.outQueues.push(o);function s(u,t){o.push(u);i=t;if(f){localStorage.setItem(j,g.stringify(o))}if(!m){n()}}function n(){while(o.length&&typeof o[0]!=="string"){o.shift()}if(o.length<1){m=false;return}if(!h.isString(i)){throw"No Snowplow collector configured, cannot track"}m=true;var u=o[0];var t=new Image(1,1);t.onload=function(){o.shift();if(f){localStorage.setItem(j,g.stringify(o))}n()};t.onerror=function(){m=false};t.src=i+u}return{enqueueRequest:s}}}())},{"./lib/detectors":18,"./lib_managed/lodash":21,JSON:1}],24:[function(b,c,a){(function(){var i=b("./lib_managed/lodash"),h=b("./lib/helpers"),d=b("./in_queue"),g=b("./tracker"),f=typeof a!=="undefined"?a:this;f.Snowplow=function(m,r){var l=document,n=window,p="js-2.1.2",o={outQueues:[],expireDateTime:null,hasLoaded:false,registeredOnLoadHandlers:[]};function q(){var t;if(o.expireDateTime){do{t=new Date();if(i.filter(o.outQueues,function(u){return u.length>0}).length===0){break}}while(t.getTime()<o.expireDateTime)
}}function s(){var t;if(!o.hasLoaded){o.hasLoaded=true;for(t=0;t<o.registeredOnLoadHandlers.length;t++){o.registeredOnLoadHandlers[t]()}}return true}function j(){var u;if(l.addEventListener){h.addEventListener(l,"DOMContentLoaded",function t(){l.removeEventListener("DOMContentLoaded",t,false);s()})}else{if(l.attachEvent){l.attachEvent("onreadystatechange",function t(){if(l.readyState==="complete"){l.detachEvent("onreadystatechange",t);s()}});if(l.documentElement.doScroll&&n===n.top){(function t(){if(!o.hasLoaded){try{l.documentElement.doScroll("left")}catch(v){setTimeout(t,0);return}s()}}())}}}if((new RegExp("WebKit")).test(navigator.userAgent)){u=setInterval(function(){if(o.hasLoaded||/loaded|complete/.test(l.readyState)){clearInterval(u);s()}},10)}h.addEventListener(n,"load",s,false)}n.Snowplow={getTrackerCf:function(v){var u=new g.Tracker(r,"",p,o,{});u.setCollectorCf(v);return u},getTrackerUrl:function(u){var v=new g.Tracker(r,"",p,o,{});v.setCollectorCf(u);return v},getAsyncTracker:function(){return new g.Tracker(r,"",p,o,{})
}};h.addEventListener(n,"beforeunload",q,false);j();return new d.InQueueManager(g.Tracker,p,o,m,r)}}())},{"./in_queue":16,"./lib/helpers":19,"./lib_managed/lodash":21,"./tracker":25}],25:[function(b,c,a){(function(){var r=b("./lib_managed/lodash"),f=b("./lib/helpers"),i=b("./lib/proxies"),g=b("browser-cookie-lite"),p=b("./lib/detectors"),j=b("JSON"),o=b("sha1"),q=b("./links"),d=b("./forms"),m=b("./out_queue"),n=b("snowplow-tracker-core"),h=typeof a!=="undefined"?a:this;h.Tracker=function l(aR,aw,K,y,ak){var x=n(true,function(aU){G(aU);Y(aU,ap)}),ac=document,W=window,M=navigator,u=i.fixupUrl(ac.domain,W.location.href,f.getReferrer()),aE=f.fixupDomain(u[0]),aQ=u[1],at=u[2],ak=ak||{},aq="GET",E=ak.hasOwnProperty("platform")?ak.platform:"web",v,aG=ak.hasOwnProperty("appId")?ak.appId:"",ag,S=ac.title,ap=ak.hasOwnProperty("pageUnloadTimer")?ak.pageUnloadTimer:500,A,L,B,aO=ak.hasOwnProperty("cookieName")?ak.cookieName:"_sp_",C=ak.hasOwnProperty("cookieDomain")?ak.cookieDomain:null,aP="/",O=ak.hasOwnProperty("writeCookies")?ak.writeCookies:true,P=M.doNotTrack||M.msDoNotTrack,aK=ak.hasOwnProperty("respectDoNotTrack")?ak.respectDoNotTrack&&(P==="yes"||P==="1"):false,aa,F=63072000,J=1800,N=ak.hasOwnProperty("userFingerprintSeed")?ak.userFingerprintSeed:123412414,aI=ac.characterSet||ac.charset,ax=ak.hasOwnProperty("forceSecureTracker")?(ak.forceSecureTracker===true):false,D=M.userLanguage||M.language,aH=p.detectBrowserFeatures(I("testcookie")),w=(ak.userFingerprint===false)?"":p.detectSignature(N),H=aR+"_"+aw,au=false,ar,ao,ah,ad,R,V=o,av,ab,aT,z=aB(),t=q.getLinkTrackingManager(x,H),ae=d.getFormTrackingManager(x,H),aM=new m.OutQueueManager(aR,aw,y);
x.setBase64Encoding(ak.hasOwnProperty("encodeBase64")?ak.encodeBase64:true);x.setTrackerVersion(K);x.setTrackerNamespace(aw);x.setAppId(aG);x.setPlatform(E);x.setTimezone(p.detectTimezone());x.addPayloadPair("lang",D);x.addPayloadPair("cs",aI);for(var T in aH){if(Object.prototype.hasOwnProperty.call(aH,T)){if(T==="res"||T==="cd"||T==="cookie"){x.addPayloadPair(T,aH[T])}else{x.addPayloadPair("f_"+T,aH[T])}}}function aB(){return{transaction:{},items:[]}}function aL(aU){var aV;if(B){aV=new RegExp("#.*");return aU.replace(aV,"")}return aU}function aS(aU){var aW=new RegExp("^([a-z]+):"),aV=aW.exec(aU);return aV?aV[1]:null}function aD(aW,aU){var aX=aS(aU),aV;if(aX){return aU}if(aU.slice(0,1)==="/"){return aS(aW)+"://"+f.getHostName(aW)+aU}aW=aL(aW);if((aV=aW.indexOf("?"))>=0){aW=aW.slice(0,aV)}if((aV=aW.lastIndexOf("/"))!==aW.length-1){aW=aW.slice(0,aV+1)}return aW+aU}function U(aZ){var aV="?",aW={co:true,cx:true},aU=true;for(var aY in aZ){if(aZ.hasOwnProperty(aY)&&!(aW.hasOwnProperty(aY))){if(!aU){aV+="&"
}else{aU=false}aV+=encodeURIComponent(aY)+"="+encodeURIComponent(aZ[aY])}}for(var aX in aW){if(aZ.hasOwnProperty(aX)&&aW.hasOwnProperty(aX)){aV+="&"+aX+"="+aZ[aX]}}return aV}function Y(aW,aV){var aU=new Date();if(!aK){aM.enqueueRequest(U(aW.build()),v);y.expireDateTime=aU.getTime()+aV}}function I(aU){return aO+aU+"."+av}function Z(aU){return g.cookie(I(aU))}function an(){av=V((C||aE)+(aP||"/")).slice(0,4)}function aF(){var aU=new Date();ar=aU.getTime()}function az(){af();aF()}function aj(){var aU=(ac.compatMode&&ac.compatMode!="BackCompat")?ac.documentElement:ac.body;return[aU.scrollLeft||W.pageXOffset,aU.scrollTop||W.pageYOffset]}function am(){var aV=aj();var aU=aV[0];ao=aU;ah=aU;var aW=aV[1];ad=aW;R=aW}function af(){var aV=aj();var aU=aV[0];if(aU<ao){ao=aU}else{if(aU>ah){ah=aU}}var aW=aV[1];if(aW<ad){ad=aW}else{if(aW>R){R=aW}}}function aN(aW,aV,aU,aY,aX){g.cookie(I("id"),aW+"."+aV+"."+aU+"."+aY+"."+aX,F,aP,C)}function aA(){var aV=new Date(),aU=Math.round(aV.getTime()/1000),aX=Z("id"),aW;
if(aX){aW=aX.split(".");aW.unshift("0")}else{if(!ab){ab=V((M.userAgent||"")+(M.platform||"")+j.stringify(aH)+aU).slice(0,16)}aW=["1",ab,aU,0,aU,""]}return aW}function G(a0){var aW=Math.round(new Date().getTime()/1000),aZ=I("id"),aY=I("ses"),a2=Z("ses"),aV=aA(),a1=aV[1],a4=aV[2],aX=aV[3],a3=aV[4],aU=aV[5];if(aK&&O){g.cookie(aZ,"",-1,aP,C);g.cookie(aY,"",-1,aP,C);return}if(!a2){aX++;aU=a3}a0.add("vp",p.detectViewport());a0.add("ds",p.detectDocumentSize());a0.add("vid",aX);a0.add("duid",a1);a0.add("fp",w);a0.add("uid",aT);if(at.length){a0.add("refr",aL(at))}a0.add("url",aL(ag||aQ));if(O){aN(a1,a4,aX,aW,aU);g.cookie(aY,"*",J,aP,C)}}function X(aU){return aC(aU+".cloudfront.net")}function aC(aU){if(ax){return("https://"+aU+"/i")}else{return("https:"===ac.location.protocol?"https":"http")+"://"+aU+"/i"}}function al(aZ,aX,aV){var aY=f.fixupTitle(aZ||S);if(aX){var a1=W.performance||W.mozPerformance||W.msPerformance||W.webkitPerformance;if(a1){var a0=r.clone(a1.timing);delete a0.requestEnd;if(window.chrome&&window.chrome.loadTimes&&typeof window.chrome.loadTimes().firstPaintTime==="number"){a0.chromeFirstPaint=Math.round(window.chrome.loadTimes().firstPaintTime*1000)
}aV=aV||[];aV.push({schema:"iglu:org.w3/PerformanceTiming/jsonschema/1-0-0",data:a0})}}x.trackPageView(aL(ag||aQ),aY,aL(at),aV);var aU=new Date();if(A&&L&&!au){au=true;am();f.addEventListener(ac,"click",aF);f.addEventListener(ac,"mouseup",aF);f.addEventListener(ac,"mousedown",aF);f.addEventListener(ac,"mousemove",aF);f.addEventListener(ac,"mousewheel",aF);f.addEventListener(W,"DOMMouseScroll",aF);f.addEventListener(W,"scroll",az);f.addEventListener(ac,"keypress",aF);f.addEventListener(ac,"keydown",aF);f.addEventListener(ac,"keyup",aF);f.addEventListener(W,"resize",aF);f.addEventListener(W,"focus",aF);f.addEventListener(W,"blur",aF);ar=aU.getTime();setInterval(function aW(){var a2=new Date();if((ar+L)>a2.getTime()){if(A<a2.getTime()){s(aY,aV)}}},L)}}function s(aV,aU){am();x.trackPagePing(aL(ag||aQ),aV,aL(at),ao,ah,ad,R,aU)}function ay(aZ,aY,a3,a0,aU,a1,aV,aX,a2,aW){x.trackEcommerceTransaction(aZ,aY,a3,a0,aU,a1,aV,aX,a2,aW)}function ai(aU,a1,aW,aZ,aY,a0,aV,aX){x.trackEcommerceTransactionItem(aU,a1,aW,aZ,aY,a0,aV,aX)
}function aJ(aV,aU){if(aV!==""){return aV+aU.charAt(0).toUpperCase()+aU.slice(1)}return aU}function Q(aZ){var aY,aU,aX=["","webkit","ms","moz"],aW;if(!aa){for(aU=0;aU<aX.length;aU++){aW=aX[aU];if(Object.prototype.hasOwnProperty.call(ac,aJ(aW,"hidden"))){if(ac[aJ(aW,"visibilityState")]==="prerender"){aY=true}break}}}if(aY){f.addEventListener(ac,aW+"visibilitychange",function aV(){ac.removeEventListener(aW+"visibilitychange",aV,false);aZ()});return}aZ()}an();return{getUserId:function(){return aT},getDomainUserId:function(){return(aA())[1]},getDomainUserInfo:function(){return aA()},setAppId:function(aU){f.warn('setAppId is deprecated. Instead add an "appId" field to the argmap argument of newTracker.');x.setAppId(aU)},setReferrerUrl:function(aU){at=aU},setCustomUrl:function(aU){ag=aD(aQ,aU)},setDocumentTitle:function(aU){S=aU},discardHashTag:function(aU){B=aU},setCookieNamePrefix:function(aU){f.warn('setCookieNamePrefix is deprecated. Instead add a "cookieName" field to the argmap argument of newTracker.');
aO=aU},setCookieDomain:function(aU){f.warn('setCookieDomain is deprecated. Instead add a "cookieDomain" field to the argmap argument of newTracker.');C=f.fixupDomain(aU);an()},setCookiePath:function(aU){aP=aU;an()},setVisitorCookieTimeout:function(aU){F=aU},setSessionCookieTimeout:function(aU){J=aU},setUserFingerprintSeed:function(aU){f.warn('setUserFingerprintSeed is deprecated. Instead add a "userFingerprintSeed" field to the argmap argument of newTracker.');N=aU;w=p.detectSignature(N)},enableUserFingerprint:function(aU){f.warn('enableUserFingerprintSeed is deprecated. Instead add a "userFingerprint" field to the argmap argument of newTracker.');if(!aU){w=""}},respectDoNotTrack:function(aV){f.warn('This usage of respectDoNotTrack is deprecated. Instead add a "respectDoNotTrack" field to the argmap argument of newTracker.');var aU=M.doNotTrack||M.msDoNotTrack;aK=aV&&(aU==="yes"||aU==="1")},addListener:function(aW,aU,aV){addClickListener(aW,aU,aV)},enableLinkClickTracking:function(aW,aU,aX,aV){if(y.hasLoaded){t.configureLinkClickTracking(aW,aU,aX,aV);
t.addClickListeners()}else{y.registeredOnLoadHandlers.push(function(){t.configureLinkClickTracking(aW,aU,aX,aV);t.addClickListeners()})}},refreshLinkClickTracking:function(){if(y.hasLoaded){t.addClickListeners()}else{y.registeredOnLoadHandlers.push(function(){t.addClickListeners()})}},enableActivityTracking:function(aV,aU){A=new Date().getTime()+aV*1000;L=aU*1000},enableFormTracking:function(aU){if(y.hasLoaded){ae.addFormListeners(aU)}else{y.registeredOnLoadHandlers.push(function(){ae.addFormListeners(aU)})}},killFrame:function(){if(W.location!==W.top.location){W.top.location=W.location}},redirectFile:function(aU){if(W.location.protocol==="file:"){W.location=aU}},setCountPreRendered:function(aU){aa=aU},setUserId:function(aU){aT=aU},setUserIdFromLocation:function(aU){aT=f.fromQuerystring(aU,aQ)},setUserIdFromReferrer:function(aU){aT=f.fromQuerystring(aU,at)},setUserIdFromCookie:function(aU){aT=g.cookie(aU)},setCollectorCf:function(aU){v=X(aU)},setCollectorUrl:function(aU){v=aC(aU)},setPlatform:function(aU){f.warn('setPlatform is deprecated. Instead add a "platform" field to the argmap argument of newTracker.');
x.setPlatform(aU)},encodeBase64:function(aU){f.warn('This usage of encodeBase64 is deprecated. Instead add an "encodeBase64" field to the argmap argument of newTracker.');x.setBase64Encoding(aU)},trackPageView:function(aW,aV,aU){Q(function(){al(aW,aV,aU)})},trackStructEvent:function(aW,aZ,aU,aY,aX,aV){x.trackStructEvent(aW,aZ,aU,aY,aX,aV)},trackUnstructEvent:function(aU,aV){x.trackUnstructEvent(aU,aV)},addTrans:function(aZ,aY,a3,a0,aU,a1,aV,aX,a2,aW){z.transaction={orderId:aZ,affiliation:aY,total:a3,tax:a0,shipping:aU,city:a1,state:aV,country:aX,currency:a2,context:aW}},addItem:function(aU,a1,aW,aZ,aY,a0,aV,aX){z.items.push({orderId:aU,sku:a1,name:aW,category:aZ,price:aY,quantity:a0,currency:aV,context:aX})},trackTrans:function(){ay(z.transaction.orderId,z.transaction.affiliation,z.transaction.total,z.transaction.tax,z.transaction.shipping,z.transaction.city,z.transaction.state,z.transaction.country,z.transaction.currency,z.transaction.context);for(var aU=0;aU<z.items.length;aU++){var aV=z.items[aU];
ai(aV.orderId,aV.sku,aV.name,aV.category,aV.price,aV.quantity,aV.currency,aV.context)}z=aB()},trackLinkClick:function(aZ,aV,aW,aU,aY,aX){Q(function(){x.trackLinkClick(aZ,aV,aW,aU,aY,aX)})},trackAdImpression:function(aY,aU,aW,aX,a2,aZ,a0,a1,aV){Q(function(){x.trackAdImpression(aY,aU,aW,aX,a2,aZ,a0,a1,aV)})},trackAdClick:function(aW,a1,aU,aX,a3,aZ,aY,a0,a2,aV){x.trackAdClick(aW,a1,aU,aX,a3,aZ,aY,a0,a2,aV)},trackAdConversion:function(a3,aU,aX,aW,aZ,a1,a2,aY,a0,aV){x.trackAdConversion(a3,aU,aX,aW,aZ,a1,a2,aY,a0,aV)},trackSocialInteraction:function(aW,aV,aX,aU){x.trackSocialInteraction(aW,aV,aX,aU)},trackAddToCart:function(a0,aV,aX,aY,aZ,aU,aW){x.trackAddToCart(a0,aV,aX,aY,aZ,aU,aW)},trackRemoveFromCart:function(a0,aV,aX,aY,aZ,aU,aW){x.trackRemoveFromCart(a0,aV,aX,aY,aZ,aU,aW)},trackSiteSearch:function(aY,aX,aU,aV,aW){x.trackSiteSearch(aY,aX,aU,aV,aW)}}}}())},{"./forms":15,"./lib/detectors":18,"./lib/helpers":19,"./lib/proxies":20,"./lib_managed/lodash":21,"./links":22,"./out_queue":23,JSON:1,"browser-cookie-lite":2,sha1:7,"snowplow-tracker-core":8}]},{},[17]);